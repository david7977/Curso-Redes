<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üßæ Banco de Preguntas ‚Äì Prevenci√≥n y Mitigaci√≥n de Amenazas en Redes</title>
<style>
  :root { --ok:#16a34a; --bad:#dc2626; --card:#0ea5e9; --accent:#2563eb; }
  body { font-family: system-ui, Arial, sans-serif; margin: 24px; background:#f8fafc; }
  header { border:2px solid #e5e7eb; border-left:8px solid var(--card); padding:16px; border-radius:14px; background:#fff; margin-bottom:24px;}
  h1 { margin:0; }
  .quiz-card { border:1px solid #e5e7eb; border-radius:14px; background:#fff; margin:24px 0; }
  .legend{padding:12px 16px; border-bottom:1px solid #e5e7eb; background:#f9fafb; color:#475569;}
  .qwrap{padding:16px;}
  .q{border:1px solid #e5e7eb; border-radius:12px; padding:12px; margin:12px 0;}
  label{display:block; padding:6px 10px; border-radius:10px; border:1px solid #e5e7eb; margin:6px 0;}
  .correct{background:#dcfce7; border-color:#bbf7d0;}
  .incorrect{background:#fee2e2; border-color:#fecaca;}
  .feedback,.success,.hint{display:none; margin-top:8px; padding:8px 10px; border-radius:10px;}
  .feedback{border-left:4px solid var(--bad); background:#fff1f2;}
  .success{border-left:4px solid var(--ok); background:#ecfdf5;}
  .hint{border-left:4px solid var(--accent); background:#eff6ff; color:#1e3a8a;}
  .hint-btn{margin-top:4px; padding:6px 10px; border-radius:10px; background:#1f2937; color:#fff; cursor:pointer; border:none;}
  .toolbar-bottom{display:flex; gap:10px; padding:12px 16px; border-top:1px solid #e5e7eb; background:#f9fafb;}
  .toolbar-bottom button{padding:10px 14px; border-radius:12px; border:1px solid #e5e7eb; cursor:pointer;}
  .primary{background:#111827; color:#fff;}
  .secondary{background:#f3f4f6; color:#111827;}
  .score{margin-left:auto; font-weight:bold;}
</style>
</head>
<body>
<header>
  <h1>üßæ Banco de Preguntas y Respuestas ‚Äì Prevenci√≥n y Mitigaci√≥n de Amenazas en Redes</h1>
</header>

<section class="quiz-card">
<div class="legend">Preguntas de una sola respuesta. Usa <b>Pista</b> antes de corregir.</div>
<div class="qwrap" id="quiz"></div>
<div class="toolbar-bottom">
  <button id="btn-correct" class="primary">Corregir</button>
  <button id="btn-shuffle" class="secondary">Barajar</button>
  <button id="btn-reset" class="secondary">Reiniciar</button>
  <span id="score" class="score"></span>
</div>
</section>

<script>
function shuffle(arr){for(let i=arr.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[arr[i],arr[j]]=[arr[j],arr[i]];}return arr;}

const BANK=[
 {text:"¬øQu√© funci√≥n cumplen los antivirus y antimalware?", options:[{t:"Detectan, bloquean y eliminan software malicioso",ok:true},{t:"Aumentan la velocidad de Internet",ok:false},{t:"Crean contrase√±as",ok:false}], hint:"Protegen contra amenazas.", explain:"Detectan, bloquean y eliminan malware."},
 {text:"¬øQu√© hace un firewall en una red?", options:[{t:"Filtra tr√°fico y bloquea accesos no autorizados",ok:true},{t:"Sirve como antivirus",ok:false},{t:"Es un switch",ok:false}], hint:"Es una barrera de red.", explain:"Filtra tr√°fico entrante y saliente."},
 {text:"¬øQu√© es un ataque DoS/DDoS?", options:[{t:"Sobrecarga recursos con tr√°fico excesivo",ok:true},{t:"Roba contrase√±as",ok:false},{t:"Cifra archivos",ok:false}], hint:"Ataque de saturaci√≥n.", explain:"DoS/DDoS impide acceso leg√≠timo a servicios."},
 {text:"¬øQu√© hace un IPS?", options:[{t:"Monitoriza tr√°fico y bloquea comportamientos sospechosos",ok:true},{t:"Solo detecta sin bloquear",ok:false},{t:"Asigna direcciones IP",ok:false}], hint:"Prevenci√≥n en tiempo real.", explain:"El IPS bloquea amenazas antes de que afecten."},
 {text:"¬øQu√© significa MFA?", options:[{t:"M√©todo con dos o m√°s verificaciones",ok:true},{t:"Una sola contrase√±a",ok:false},{t:"Un firewall especial",ok:false}], hint:"Es autenticaci√≥n reforzada.", explain:"Combina contrase√±a, c√≥digo y biometr√≠a."},
 {text:"¬øC√≥mo reduce el antivirus actualizado el riesgo?", options:[{t:"Detecta amenazas recientes y patrones nuevos",ok:true},{t:"Aumenta RAM",ok:false},{t:"Evita contrase√±as",ok:false}], hint:"Depende de firmas recientes.", explain:"Un antivirus actualizado detecta nuevas amenazas."},
 {text:"¬øQu√© medida mitiga ataques DoS con firewall?", options:[{t:"Reglas que limiten conexiones y filtren tr√°fico",ok:true},{t:"Desactivar firewall",ok:false},{t:"Usar Wi-Fi p√∫blico",ok:false}], hint:"Limitar conexiones excesivas.", explain:"Se configuran reglas en el firewall."},
 {text:"¬øC√≥mo ayudan balanceadores de carga contra DoS?", options:[{t:"Distribuyen tr√°fico entre varios servidores",ok:true},{t:"Bloquean virus",ok:false},{t:"Crean VLANs",ok:false}], hint:"Evitan saturaci√≥n de un servidor.", explain:"Distribuyen tr√°fico entre varios servidores."},
 {text:"¬øQu√© es RBAC?", options:[{t:"Pol√≠tica que asigna permisos seg√∫n roles",ok:true},{t:"Un tipo de firewall",ok:false},{t:"Un sistema de cifrado",ok:false}], hint:"Basado en roles.", explain:"RBAC asigna permisos seg√∫n el rol del usuario."},
 {text:"¬øDiferencia entre RBAC y ABAC?", options:[{t:"RBAC = roles, ABAC = atributos como tiempo o ubicaci√≥n",ok:true},{t:"RBAC es m√°s seguro siempre",ok:false},{t:"Son lo mismo",ok:false}], hint:"ABAC incluye contexto.", explain:"RBAC usa roles; ABAC incluye atributos."},
 {text:"¬øPor qu√© contrase√±as robustas son esenciales?", options:[{t:"Dificultan accesos no autorizados y ataques de fuerza bruta",ok:true},{t:"Hacen Internet m√°s r√°pido",ok:false},{t:"Eliminan malware",ok:false}], hint:"Refuerzan seguridad.", explain:"Contrase√±as fuertes evitan accesos indebidos."},
 {text:"¬øRiesgo de no aplicar pol√≠ticas de sesi√≥n?", options:[{t:"Sesiones abiertas pueden ser aprovechadas por atacantes",ok:true},{t:"Los equipos se apagan",ok:false},{t:"No hay impacto",ok:false}], hint:"Piensa en sesiones abiertas.", explain:"Podr√≠an ser usadas por atacantes."},
 {text:"¬øPor qu√© combinar firewalls con IPS?", options:[{t:"Porque firewall filtra b√°sico y IPS bloquea avanzado",ok:true},{t:"Porque aumentan velocidad",ok:false},{t:"Porque crean VLANs",ok:false}], hint:"Se complementan.", explain:"El firewall controla accesos; IPS bloquea ataques avanzados."},
 {text:"¬øQu√© pasos incluye un plan de respuesta?", options:[{t:"Detecci√≥n, notificaci√≥n, contenci√≥n, recuperaci√≥n y an√°lisis",ok:true},{t:"Reiniciar PCs",ok:false},{t:"Ignorar el ataque",ok:false}], hint:"Es un ciclo de respuesta.", explain:"Plan: detectar, contener, recuperar y analizar."},
 {text:"¬øC√≥mo ayudan protocolos en incidentes?", options:[{t:"Aseguran comunicaci√≥n precisa y coordinada",ok:true},{t:"Evitan malware",ok:false},{t:"Dan m√°s ancho de banda",ok:false}], hint:"Piensa en coordinaci√≥n.", explain:"Garantizan coordinaci√≥n durante ataques."},
 {text:"¬øQu√© hacer ante ransomware?", options:[{t:"Aislar equipos, restaurar backups y notificar seguridad",ok:true},{t:"Pagar de inmediato",ok:false},{t:"Ignorarlo",ok:false}], hint:"Acciones inmediatas.", explain:"Se a√≠slan equipos y se restauran copias seguras."},
 {text:"¬øQu√© combinaci√≥n previene accesos no autorizados?", options:[{t:"MFA, RBAC/ABAC, contrase√±as fuertes y pol√≠ticas",ok:true},{t:"Usar Wi-Fi abierto",ok:false},{t:"Dejar sesiones abiertas",ok:false}], hint:"Medidas t√©cnicas y organizativas.", explain:"Combina MFA, pol√≠ticas y formaci√≥n."},
 {text:"¬øPor qu√© educaci√≥n de usuarios es importante?", options:[{t:"Porque ataques como phishing dependen de errores humanos",ok:true},{t:"Porque aumenta velocidad de red",ok:false},{t:"Porque elimina antivirus",ok:false}], hint:"El usuario es clave.", explain:"La concienciaci√≥n evita ataques de ingenier√≠a social."},
 {text:"¬øImpacto de no tener plan de recuperaci√≥n?", options:[{t:"Mayor inactividad, p√©rdida de datos y confianza",ok:true},{t:"Mejor rendimiento",ok:false},{t:"M√°s velocidad de red",ok:false}], hint:"Consecuencias graves.", explain:"Sin plan, hay m√°s p√©rdidas y tiempo de inactividad."},
 {text:"¬øQu√© tres medidas implementar√≠as primero?", options:[{t:"Respuesta abierta: firewall, MFA y plan de respuesta",ok:true},{t:"Desactivar firewalls",ok:false},{t:"Compartir contrase√±as",ok:false}], hint:"Prioriza lo m√°s cr√≠tico.", explain:"Firewall, MFA y respuesta a incidentes son clave."}
];

let QUESTIONS=[];
const quiz=document.getElementById('quiz');
const scoreEl=document.getElementById('score');

function createQuestionEl(q,idx){
 const w=document.createElement('div'); w.className='q';
 const p=document.createElement('p'); p.innerHTML=`<b>${idx+1}.</b> ${q.text}`; w.appendChild(p);
 const opts=shuffle(q.options.map(o=>({...o})));
 opts.forEach((o,i)=>{
   const id=`q${idx}_opt${i}`;
   const label=document.createElement('label'); label.setAttribute('for',id);
   const input=document.createElement('input'); input.type='radio'; input.name=`q${idx}`; input.id=id; input.value=o.ok?'true':'false';
   label.appendChild(input); label.insertAdjacentText('beforeend',' '+o.t); w.appendChild(label);
 });
 const hintBtn=document.createElement('button'); hintBtn.type='button'; hintBtn.textContent='Pista'; hintBtn.className='hint-btn';
 const hintBox=document.createElement('div'); hintBox.className='hint'; hintBox.innerHTML=q.hint;
 w.appendChild(hintBtn); w.appendChild(hintBox);
 const fb=document.createElement('div'); fb.className='feedback'; w.appendChild(fb);
 const ok=document.createElement('div'); ok.className='success'; ok.textContent='‚úÖ ¬°Correcto!'; w.appendChild(ok);
 hintBtn.addEventListener('click',()=>{hintBox.style.display='block'; hintBtn.disabled=true;});
 return w;
}

function buildQuiz(){quiz.innerHTML=''; QUESTIONS=shuffle(BANK.map(q=>({...q, options:q.options.map(o=>({...o}))}))); QUESTIONS.forEach((q,i)=>quiz.appendChild(createQuestionEl(q,i))); scoreEl.textContent='';}
function evaluateQuestion(node){
 const labels=Array.from(node.querySelectorAll('label')); let ok=false; let selected=null; let correct=null;
 labels.forEach(l=>{l.classList.remove('correct','incorrect'); const input=l.querySelector('input'); if(input.value==='true') correct=l; if(input.checked){selected=l; ok=(input.value==='true');}});
 const fb=node.querySelector('.feedback'); const okBox=node.querySelector('.success');
 if(ok){if(correct) correct.classList.add('correct'); okBox.style.display='block'; fb.style.display='none';}
 else{if(selected) selected.classList.add('incorrect'); if(correct) correct.classList.add('correct'); okBox.style.display='none'; fb.innerHTML=`<b>Respuesta correcta:</b> ${correct?correct.textContent.trim():''}<div>${QUESTIONS.find(q=>q.text===node.querySelector('p').innerText.replace(/^\d+\.\s*/,'')).explain}</div>`; fb.style.display='block';}
 return ok;
}
function correctAll(){const nodes=document.querySelectorAll('.q'); let right=0; nodes.forEach(n=>{if(evaluateQuestion(n)) right++;}); scoreEl.textContent=`Puntuaci√≥n: ${right} / ${nodes.length}`;}
function resetQuiz(){buildQuiz();}
document.getElementById('btn-correct').addEventListener('click',correctAll);
document.getElementById('btn-shuffle').addEventListener('click',buildQuiz);
document.getElementById('btn-reset').addEventListener('click',resetQuiz);
buildQuiz();
</script>
</body>
</html>
