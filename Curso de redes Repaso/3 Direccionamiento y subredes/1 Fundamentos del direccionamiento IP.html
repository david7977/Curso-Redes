<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>14 - IPv4 vs IPv6</title>
<style>
  :root { --ok:#16a34a; --bad:#dc2626; --card:#0ea5e9; --accent:#2563eb; }
  body { font-family: system-ui, Arial, sans-serif; margin: 24px; line-height:1.45; }
  header { border:2px solid #e5e7eb; border-left:8px solid var(--card); padding:16px; border-radius:14px; background:#f8fafc; margin-bottom:24px;}
  h1 { margin-top:0; }
  .pill { background:#e0f2fe; color:#0369a1; padding:2px 10px; border-radius:999px; font-size:.9rem; }
  .card { background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:10px; margin:6px 0;}
  .story { border:1px dashed #cbd5e1; background:#fff; padding:12px; border-radius:12px; }
  .grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(240px,1fr)); gap:10px; }
  .novato { border-left:6px solid var(--accent); background:#eff6ff; padding:14px; border-radius:12px; margin:14px 0;}
  .quiz-card { border:1px solid #e5e7eb; border-radius:14px; background:#fff; margin:24px 0; }
  .legend{padding:12px 16px; border-bottom:1px solid #e5e7eb; background:#f9fafb;}
  .q{border:1px solid #e5e7eb; border-radius:12px; padding:12px; margin:12px 0;}
  label{display:block; padding:6px 10px; margin:6px 0; border:1px solid #e5e7eb; border-radius:10px;}
  .correct{background:#dcfce7;}
  .incorrect{background:#fee2e2;}
  .feedback,.success,.hint{display:none; margin-top:8px; padding:8px; border-radius:10px;}
  .feedback{background:#fff1f2; border-left:4px solid var(--bad);}
  .success{background:#ecfdf5; border-left:4px solid var(--ok);}
  .hint{background:#eff6ff; border-left:4px solid var(--accent);}
  .hint-btn{margin-top:4px; padding:6px 10px; border-radius:10px; background:#1f2937; color:#fff; border:none; cursor:pointer;}
  .toolbar-bottom{display:flex; gap:10px; padding:12px 16px; border-top:1px solid #e5e7eb; background:#f9fafb;}
  .toolbar-bottom button{padding:10px 14px; border-radius:12px; border:1px solid #e5e7eb; cursor:pointer;}
  .primary{background:#111827; color:#fff;}
  .secondary{background:#f3f4f6;}
  .score{margin-left:auto; font-weight:bold;}
</style>
</head>
<body>
<header>
<div class="pill">Unidad 3</div>
<h1>IPv4 vs IPv6</h1>

<h2>üßæ Explicaci√≥n General</h2>
<div class="card">
Las <b>direcciones IP</b> identifican a cada dispositivo en una red.  
IPv4 (1983) usa 32 bits con ~4.300 millones de direcciones. Se ha quedado corto.  
IPv6 (128 bits) ofrece espacio casi infinito.  
Ambas permiten localizar y comunicar dispositivos, pero IPv6 es el futuro para soportar el crecimiento de internet.
</div>

<h2>üß© Conceptos Clave (10 a√±os)</h2>
<div class="card">
Imagina que las IP son como direcciones de casas.  
IPv4 = ciudad peque√±a con pocas casas ‚Üí ya est√° llena.  
IPv6 = ciudad enorme con calles infinitas ‚Üí siempre habr√° sitio.  
El correo (datos) necesita estas direcciones para llegar a la casa correcta (dispositivo).
</div>

<h2>üìö Desglose</h2>
<div class="grid">
<div class="card">
<ul>
<li><b>IPv4:</b> 32 bits, 4 octetos (0‚Äì255), notaci√≥n decimal con puntos.</li>
<li><b>Clases IPv4:</b> A (redes grandes), B (medianas), C (peque√±as), D/E (especiales).</li>
<li><b>Subneting:</b> dividir redes grandes en subredes con m√°scara.</li>
<li><b>IPv6:</b> 128 bits, 8 bloques de 16 bits, notaci√≥n hexadecimal con ‚Äú:‚Äù.</li>
<li><b>Prefijo:</b> /64 indica que los primeros 64 bits son red.</li>
<li><b>Ventaja IPv6:</b> espacio inmenso, sin escasez.</li>
</ul>
</div>
</div>

<h2>Historia breve</h2>
<div class="story">
En 1983 naci√≥ IPv4 con 4.300 millones de direcciones.  
Internet creci√≥ y ya no son suficientes.  
IPv6, dise√±ado en los 90, trajo 128 bits ‚Üí una ‚Äúmesa gigante de Lego‚Äù donde siempre sobra espacio.
</div>

<section class="novato">
<h3>Modo Novato</h3>
<div class="card">
<b>Recordatorio:</b>
<ul>
<li>IPv4 = 32 bits, 4 n√∫meros con puntos (ej: 192.168.1.1).</li>
<li>IPv6 = 128 bits, hexadecimales (ej: 2001:db8::1).</li>
<li>Subneting = dividir redes para organizar mejor.</li>
<li>IPv6 = no se agotan las direcciones.</li>
</ul>
</div>
</section>

<h2>Resumen para repaso</h2>
<ul>
<li>IP = direcci√≥n √∫nica en red.</li>
<li>IPv4 (32 bits) limitado ‚Üí clases A/B/C, necesita subneting.</li>
<li>IPv6 (128 bits) espacio enorme ‚Üí simplifica la gesti√≥n.</li>
</ul>

<h2>Resumen expr√©s</h2>
<div class="card">IPv4 = direcciones limitadas. IPv6 = espacio infinito. IP = direcci√≥n para que los datos lleguen.</div>
</header>

<section class="quiz-card">
<div class="legend">Preguntas de una sola respuesta. Usa <b>Pista</b> antes de corregir.</div>
<div class="qwrap" id="quiz"></div>
<div class="toolbar-bottom">
<button id="btn-correct" class="primary">Corregir</button>
<button id="btn-shuffle" class="secondary">Barajar</button>
<button id="btn-reset" class="secondary">Reiniciar</button>
<span id="score" class="score"></span>
</div>
</section>

<script>
function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}return a;}

const BANK=[
// 100% texto
{text:"¬øEn qu√© a√±o se implement√≥ IPv4?",options:[{t:"1983",ok:true},{t:"1990",ok:false},{t:"2001",ok:false}],hint:"Fue cuando internet a√∫n era experimental.",explain:"IPv4 se implement√≥ en 1983."},
{text:"¬øCu√°ntas direcciones posibles tiene IPv4?",options:[{t:"Aprox. 4.300 millones",ok:true},{t:"128 mil millones",ok:false},{t:"Infinitas",ok:false}],hint:"Ya se est√° agotando.",explain:"IPv4 = 2^32 ‚âà 4.300 millones."},
{text:"¬øQu√© longitud en bits tiene IPv4?",options:[{t:"32",ok:true},{t:"64",ok:false},{t:"128",ok:false}],hint:"Son 4 octetos.",explain:"IPv4 usa 32 bits."},
{text:"¬øC√≥mo se escriben las direcciones IPv4?",options:[{t:"4 bloques decimales separados por puntos",ok:true},{t:"8 bloques hexadecimales con dos puntos",ok:false},{t:"Binario puro",ok:false}],hint:"Ej: 192.168.0.1.",explain:"IPv4 = decimal con puntos."},
{text:"¬øQu√© son las clases IPv4?",options:[{t:"A, B, C para distintos tama√±os de red",ok:true},{t:"Tipos de protocolo de correo",ok:false},{t:"C√≥digos de seguridad",ok:false}],hint:"Organizan redes por tama√±o.",explain:"Clase A grandes, B medianas, C peque√±as, D/E especiales."},
{text:"¬øQu√© t√©cnica se usa para dividir IPv4 en subredes?",options:[{t:"Subneting",ok:true},{t:"Token Ring",ok:false},{t:"Bluetooth",ok:false}],hint:"Divide redes grandes.",explain:"Subneting organiza y optimiza IPv4."},
{text:"¬øQu√© longitud en bits tiene IPv6?",options:[{t:"128",ok:true},{t:"32",ok:false},{t:"256",ok:false}],hint:"Mucho m√°s largo que IPv4.",explain:"IPv6 = 128 bits."},
{text:"¬øC√≥mo se escribe IPv6?",options:[{t:"8 bloques hexadecimales separados por dos puntos",ok:true},{t:"4 n√∫meros con puntos",ok:false},{t:"S√≥lo binario",ok:false}],hint:"Ej: 2001:db8::1.",explain:"IPv6 usa hexadecimal y ':'."},
{text:"¬øQu√© notaci√≥n simplifica IPv6?",options:[{t:"Omisi√≥n de ceros con ::",ok:true},{t:"Usar letras en lugar de n√∫meros",ok:false},{t:"Poner comas entre bloques",ok:false}],hint:"Se pueden omitir ceros.",explain:"IPv6 permite usar :: para simplificar ceros."},
{text:"¬øQu√© indica /64 en IPv6?",options:[{t:"Que los primeros 64 bits son la red",ok:true},{t:"Que hay 64 direcciones posibles",ok:false},{t:"Que la red es de clase C",ok:false}],hint:"Es el prefijo de subred.",explain:"/64 = los primeros 64 bits son red."},

// Extra profesionales
{text:"¬øPor qu√© es cr√≠tico migrar a IPv6?",options:[{t:"Porque IPv4 se agot√≥ y se necesitan m√°s direcciones",ok:true},{t:"Porque IPv6 es m√°s r√°pido siempre",ok:false},{t:"Porque no usa routers",ok:false}],hint:"IPv4 ya no alcanza.",explain:"IPv6 asegura espacio para crecimiento global."},
{text:"En una empresa, ¬øqu√© aporta el subneting en IPv4?",options:[{t:"Organiza departamentos y aumenta seguridad",ok:true},{t:"Elimina la necesidad de routers",ok:false},{t:"Hace las IP p√∫blicas invisibles",ok:false}],hint:"Seguridad y eficiencia.",explain:"Subneting permite segmentar tr√°fico y controlar accesos."},
{text:"¬øQu√© ventaja real tiene IPv6 en redes corporativas?",options:[{t:"M√°s espacio, seguridad integrada y simplificaci√≥n del NAT",ok:true},{t:"Funciona sin switches",ok:false},{t:"No necesita configuraci√≥n",ok:false}],hint:"Va m√°s all√° de solo espacio.",explain:"IPv6 evita NAT, mejora seguridad y escalabilidad."}
];

let QUESTIONS=[];const quiz=document.getElementById('quiz');const scoreEl=document.getElementById('score');

function createQuestionEl(q,i){
 const w=document.createElement('div');w.className='q';
 const p=document.createElement('p');p.innerHTML=`<b>${i+1}.</b> ${q.text}`;w.appendChild(p);
 const opts=shuffle(q.options.map(o=>({...o})));
 opts.forEach((o,j)=>{const id=`q${i}_opt${j}`;const label=document.createElement('label');label.setAttribute('for',id);
 const input=document.createElement('input');input.type='radio';input.name=`q${i}`;input.id=id;input.value=o.ok?'true':'false';
 label.appendChild(input);label.insertAdjacentText('beforeend',' '+o.t);w.appendChild(label);});
 const hb=document.createElement('button');hb.type='button';hb.textContent='Pista';hb.className='hint-btn';
 const hbBox=document.createElement('div');hbBox.className='hint';hbBox.innerHTML=q.hint;w.appendChild(hb);w.appendChild(hbBox);
 const fb=document.createElement('div');fb.className='feedback';w.appendChild(fb);
 const ok=document.createElement('div');ok.className='success';ok.textContent='‚úÖ ¬°Correcto!';w.appendChild(ok);
 hb.addEventListener('click',()=>{hbBox.style.display='block';hb.disabled=true;});
 return w;
}
function buildQuiz(){quiz.innerHTML='';QUESTIONS=shuffle(BANK.map(q=>({...q,options:q.options.map(o=>({...o}))})));QUESTIONS.forEach((q,i)=>quiz.appendChild(createQuestionEl(q,i)));scoreEl.textContent='';}
function evaluateQuestion(node){
 const labs=Array.from(node.querySelectorAll('label'));let ok=false;let sel=null;let corr=null;
 labs.forEach(l=>{l.classList.remove('correct','incorrect');const input=l.querySelector('input');if(input.value==='true') corr=l;if(input.checked){sel=l;ok=(input.value==='true');}});
 const fb=node.querySelector('.feedback');const okBox=node.querySelector('.success');
 if(ok){corr.classList.add('correct');okBox.style.display='block';fb.style.display='none';}
 else{if(sel) sel.classList.add('incorrect');if(corr) corr.classList.add('correct');okBox.style.display='none';fb.innerHTML=`<b>Respuesta correcta:</b> ${corr?corr.textContent.trim():''}<div>${QUESTIONS.find(q=>q.text===node.querySelector('p').innerText.replace(/^\d+.\s*/,'')).explain}</div>`;fb.style.display='block';}
 return ok;
}
function correctAll(){const nodes=document.querySelectorAll('.q');let right=0;nodes.forEach(n=>{if(evaluateQuestion(n)) right++;});scoreEl.textContent=`Puntuaci√≥n: ${right} / ${nodes.length}`;}
function resetQuiz(){buildQuiz();}
document.getElementById('btn-correct').addEventListener('click',correctAll);
document.getElementById('btn-shuffle').addEventListener('click',buildQuiz);
document.getElementById('btn-reset').addEventListener('click',resetQuiz);
buildQuiz();
</script>
</body>
</html>
