<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Test Interactivo: Subnetting, Máscaras y CIDR</title>
<style>
  :root{
    --ok:#16a34a;
    --bad:#dc2626;
    --info:#0ea5e9;
    --bg:#0b1220;
    --card:#121a2a;
    --muted:#8aa0b4;
    --accent:#6366f1;
  }
  *{box-sizing:border-box}
  body{
    margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial;
    background: var(--bg); color: #e6edf3; line-height:1.5;
  }
  header{
    padding:28px 16px; text-align:center; background: linear-gradient(180deg, #0f172a 0%, #0b1220 100%);
    border-bottom:1px solid #1f2937;
  }
  h1{margin:0; font-size: clamp(1.3rem, 2.2vw, 2rem); letter-spacing:.3px}
  p.lead{margin:.35rem auto 0; max-width:900px; color: var(--muted); font-size: .98rem}
  main{max-width: 1000px; margin: 28px auto; padding: 0 16px 60px;}
  .panel{
    background: var(--card); border:1px solid #1f2937; border-radius:16px; padding:18px 16px; margin-bottom:16px;
    box-shadow: 0 10px 24px rgba(0,0,0,.25);
  }
  .meta{display:flex; gap:8px; flex-wrap:wrap; font-size:.84rem; color:var(--muted); margin:.25rem 0 .75rem}
  .badge{border:1px solid #334155; border-radius:999px; padding:2px 10px}
  h2{font-size:1.05rem; margin:.2rem 0 .7rem}
  ol{margin:.2rem 0 .5rem; padding-left: 1.1rem}
  .q{border-top:1px dashed #243041; padding-top:12px; margin-top:12px}
  .q:first-child{border-top:none; padding-top:0; margin-top:0}
  .opt{display:block; margin:.45rem 0; padding:10px 12px; border:1px solid #243041; border-radius:12px; cursor:pointer}
  .opt:hover{border-color:#374151}
  .opt input{margin-right:8px; transform: translateY(1px)}
  .feedback{font-size:.92rem; margin-top:6px; display:none}
  .feedback.ok{color:var(--ok)}
  .feedback.bad{color:var(--bad)}
  .actions{display:flex; gap:10px; flex-wrap:wrap; margin-top:12px}
  button{
    background:#111827; color:#e6edf3; border:1px solid #374151; border-radius:10px; padding:10px 14px; cursor:pointer;
  }
  button.primary{background: var(--accent); border-color:transparent}
  .score{font-weight:600; color:#e6edf3}
  .hint{color:var(--info); font-size:.9rem; display:none; margin-top:6px}
  .grid{display:grid; gap:16px; grid-template-columns:repeat(auto-fit, minmax(240px,1fr)); margin-top:10px}
  .pill{display:inline-block; padding:2px 8px; border-radius:999px; background:#0f172a; border:1px solid #243041; color:#cbd5e1; font-size:.8rem}
  code, .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; font-size:.95em}
  footer{color:#8aa0b4; text-align:center; padding:30px 12px; border-top:1px solid #1f2937}
</style>
</head>
<body>
<header>
  <h1>Test Interactivo — Subnetting, Máscaras y CIDR</h1>
  <p class="lead">Divide y vencerás: cálculo de redes/broadcast, hosts, VLSM, wildcard, diagnóstico y buenas prácticas.</p>
</header>

<main>
  <section class="panel">
    <div class="meta">
      <span class="badge">Nivel: Básico → Avanzado</span>
      <span class="badge">Preguntas: 30</span>
      <span class="badge">Tiempo recomendado: 25–30 min</span>
    </div>
    <h2>Instrucciones</h2>
    <ol>
      <li>Marca la opción correcta y pulsa <strong>Corregir</strong> para ver aciertos y explicación.</li>
      <li>Usa <strong>Pista</strong> si lo necesitas (no resta puntos).</li>
      <li>Pulsa <strong>Reiniciar</strong> para repetir el test.</li>
    </ol>
    <div class="actions">
      <button class="primary" onclick="gradeAll()">Corregir</button>
      <button onclick="showAllHints()">Mostrar todas las pistas</button>
      <button onclick="resetAll()">Reiniciar</button>
      <span class="score" id="scoreBox"></span>
    </div>
  </section>

  <section class="panel">
    <h2>Bloque A — Fundamentos</h2>

    <div class="q" data-q="1" data-ans="b">
      <div><strong>A1.</strong> Subnetting es:</div>
      <label class="opt"><input type="radio" name="q1" value="a"> Un protocolo de cifrado</label>
      <label class="opt"><input type="radio" name="q1" value="b"> Dividir una red en subredes más pequeñas</label>
      <label class="opt"><input type="radio" name="q1" value="c"> Aumentar la potencia de la señal Wi‑Fi</label>
      <div class="feedback">Explicación: segmenta para organizar, asegurar y optimizar.</div>
      <button onclick="toggleHint(this)">Pista</button><div class="hint">“Divide y vencerás”.</div>
    </div>

    <div class="q" data-q="2" data-ans="c">
      <div><strong>A2.</strong> Beneficio directo del subnetting:</div>
      <label class="opt"><input type="radio" name="q2" value="a"> Más ancho de banda total del ISP</label>
      <label class="opt"><input type="radio" name="q2" value="b"> Menos necesidad de switches</label>
      <label class="opt"><input type="radio" name="q2" value="c"> Menos broadcast y mejor contención de fallos</label>
      <div class="feedback">Explicación: reduces dominios de broadcast y aislas incidencias.</div>
      <button onclick="toggleHint(this)">Pista</button><div class="hint">Dominios más pequeños.</div>
    </div>

    <div class="q" data-q="3" data-ans="a">
      <div><strong>A3.</strong> Operación que obtiene la dirección de red a partir de IP y máscara:</div>
      <label class="opt"><input type="radio" name="q3" value="a"> AND bit a bit</label>
      <label class="opt"><input type="radio" name="q3" value="b"> OR bit a bit</label>
      <label class="opt"><input type="radio" name="q3" value="c"> XOR</label>
      <div class="feedback">Explicación: red = IP AND máscara.</div>
      <button onclick="toggleHint(this)">Pista</button><div class="hint">1 AND 1 = 1; lo demás = 0.</div>
    </div>

    <div class="q" data-q="4" data-ans="b">
      <div><strong>A4.</strong> En una subred convencional, la dirección de broadcast es…</div>
      <label class="opt"><input type="radio" name="q4" value="a"> La primera dirección</label>
      <label class="opt"><input type="radio" name="q4" value="b"> La última dirección del bloque</label>
      <label class="opt"><input type="radio" name="q4" value="c"> La del router siempre .1</label>
      <div class="feedback">Explicación: red = primera; broadcast = última.</div>
      <button onclick="toggleHint(this)">Pista</button><div class="hint">Extremos del rango.</div>
    </div>

    <div class="q" data-q="5" data-ans="a">
      <div><strong>A5.</strong> ¿Cuál equivale a <span class="mono">/24</span>?</div>
      <label class="opt"><input type="radio" name="q5" value="a"> 255.255.255.0</label>
      <label class="opt"><input type="radio" name="q5" value="b"> 255.255.0.0</label>
      <label class="opt"><input type="radio" name="q5" value="c"> 255.0.0.0</label>
      <div class="feedback">Explicación: 24 bits de red → 255.255.255.0.</div>
      <button onclick="toggleHint(this)">Pista</button><div class="hint">8 bits por octeto.</div>
    </div>
  </section>

  <section class="panel">
    <h2>Bloque B — Cálculo de hosts, redes y máscaras</h2>

    <div class="q" data-q="6" data-ans="c">
      <div><strong>B6.</strong> Hosts útiles en <span class="mono">/26</span>:</div>
      <label class="opt"><input type="radio" name="q6" value="a"> 30</label>
      <label class="opt"><input type="radio" name="q6" value="b"> 126</label>
      <label class="opt"><input type="radio" name="q6" value="c"> 62</label>
      <div class="feedback">Explicación: 32−26=6 bits → 2^6−2 = 62.</div>
      <button onclick="toggleHint(this)">Pista</button><div class="hint">Fórmula de hosts.</div>
    </div>

    <div class="q" data-q="7" data-ans="a">
      <div><strong>B7.</strong> Máscara de <span class="mono">/26</span>:</div>
      <label class="opt"><input type="radio" name="q7" value="a"> 255.255.255.192</label>
      <label class="opt"><input type="radio" name="q7" value="b"> 255.255.255.224</label>
      <label class="opt"><input type="radio" name="q7" value="c"> 255.255.255.240</label>
      <div class="feedback">Explicación: /26 → 192 en el último octeto.</div>
      <button onclick="toggleHint(this)">Pista</button><div class="hint">128+64=192.</div>
    </div>

    <div class="q" data-q="8" data-ans="b">
      <div><strong>B8.</strong> En <span class="mono">192.168.1.130/26</span>, la dirección de red es:</div>
      <label class="opt"><input type="radio" name="q8" value="a"> 192.168.1.64</label>
      <label class="opt"><input type="radio" name="q8" value="b"> 192.168.1.128</label>
      <label class="opt"><input type="radio" name="q8" value="c"> 192.168.1.192</label>
      <div class="feedback">Explicación: incrementos de 64 (256−192) → bloque 128–191.</div>
      <button onclick="toggleHint(this)">Pista</button><div class="hint">Incremento = 64.</div>
    </div>

    <div class="q" data-q="9" data-ans="c">
      <div><strong>B9.</strong> Broadcast para <span class="mono">192.168.1.130/26</span>:</div>
      <label class="opt"><input type="radio" name="q9" value="a"> 192.168.1.127</label>
      <label class="opt"><input type="radio" name="q9" value="b"> 192.168.1.128</label>
      <label class="opt"><input type="radio" name="q9" value="c"> 192.168.1.191</label>
      <div class="feedback">Explicación: fin del bloque 128–191 → 191.</div>
      <button onclick="toggleHint(this)">Pista</button><div class="hint">Última IP del bloque.</div>
    </div>

    <div class="q" data-q="10" data-ans="a">
      <div><strong>B10.</strong> Hosts útiles en <span class="mono">/30</span>:</div>
      <label class="opt"><input type="radio" name="q10" value="a"> 2</label>
      <label class="opt"><input type="radio" name="q10" value="b"> 4</label>
      <label class="opt"><input type="radio" name="q10" value="c"> 6</label>
      <div class="feedback">Explicación: 32−30=2 bits → 2^2−2 = 2.</div>
      <button onclick="toggleHint(this)">Pista</button><div class="hint">Enlaces o pequeños segmentos.</div>
    </div>

    <div class="q" data-q="11" data-ans="b">
      <div><strong>B11.</strong> ¿Qué prefijo da exactamente 14 hosts útiles?</div>
      <label class="opt"><input type="radio" name="q11" value="a"> /27</label>
      <label class="opt"><input type="radio" name="q11" value="b"> /28</label>
      <label class="opt"><input type="radio" name="q11" value="c"> /29</label>
      <div class="feedback">Explicación: /28 → 2^(4)−2 = 14.</div>
      <button onclick="toggleHint(this)">Pista</button><div class="hint">Ajusta sin desperdiciar.</div>
    </div>

    <div class="q" data-q="12" data-ans="a">
      <div><strong>B12.</strong> Máscara de <span class="mono">/21</span>:</div>
      <label class="opt"><input type="radio" name="q12" value="a"> 255.255.248.0</label>
      <label class="opt"><input type="radio" name="q12" value="b"> 255.255.252.0</label>
      <label class="opt"><input type="radio" name="q12" value="c"> 255.255.240.0</label>
      <div class="feedback">Explicación: /21 → 255.255.248.0.</div>
      <button onclick="toggleHint(this)">Pista</button><div class="hint">16+8+4 = 28 bits en 3er y 4º octeto combinados.</div>
    </div>
  </section>

  <section class="panel">
    <h2>Bloque C — VLSM y planificación</h2>

    <div class="q" data-q="13" data-ans="c">
      <div><strong>C13.</strong> Necesitas subredes para: 100 hosts, 50 hosts, 10 hosts. Orden correcto de asignación VLSM:</div>
      <label class="opt"><input type="radio" name="q13" value="a"> 10 → 50 → 100</label>
      <label class="opt"><input type="radio" name="q13" value="b"> 50 → 10 → 100</label>
      <label class="opt"><input type="radio" name="q13" value="c"> 100 → 50 → 10</label>
      <div class="feedback">Explicación: asigna primero la subred de mayor tamaño.</div>
      <button onclick="toggleHint(this)">Pista</button><div class="hint">De mayor a menor.</div>
    </div>

    <div class="q" data-q="14" data-ans="a">
      <div><strong>C14.</strong> Para ~100 hosts útiles necesitas al menos…</div>
      <label class="opt"><input type="radio" name="q14" value="a"> /25</label>
      <label class="opt"><input type="radio" name="q14" value="b"> /26</label>
      <label class="opt"><input type="radio" name="q14" value="c"> /27</label>
      <div class="feedback">Explicación: /25 → 126 hosts útiles.</div>
      <button onclick="toggleHint(this)">Pista</button><div class="hint">2^(7)−2=126.</div>
    </div>

    <div class="q" data-q="15" data-ans="b">
      <div><strong>C15.</strong> Supernetting (resumen de rutas) de 192.168.0.0/24 y 192.168.1.0/24:</div>
      <label class="opt"><input type="radio" name="q15" value="a"> 192.168.0.0/23 solo si no son contiguas</label>
      <label class="opt"><input type="radio" name="q15" value="b"> 192.168.0.0/23</label>
      <label class="opt"><input type="radio" name="q15" value="c"> 192.168.0.0/22</label>
      <div class="feedback">Explicación: /23 agrega dos /24 contiguas.</div>
      <button onclick="toggleHint(this)">Pista</button><div class="hint">Comprueba contigüidad y límites binarios.</div>
    </div>

    <div class="q" data-q="16" data-ans="c">
      <div><strong>C16.</strong> 10.10.8.0/21 → tamaño del bloque en el tercer octeto:</div>
      <label class="opt"><input type="radio" name="q16" value="a"> 2</label>
      <label class="opt"><input type="radio" name="q16" value="b"> 4</label>
      <label class="opt"><input type="radio" name="q16" value="c"> 8</label>
      <div class="feedback">Explicación: 255.255.248.0 → incremento 8.</div>
      <button onclick="toggleHint(this)">Pista</button><div class="hint">256 − 248.</div>
    </div>

    <div class="q" data-q="17" data-ans="a">
      <div><strong>C17.</strong> Hosts útiles por subred en <span class="mono">/21</span>:</div>
      <label class="opt"><input type="radio" name="q17" value="a"> 2046</label>
      <label class="opt"><input type="radio" name="q17" value="b"> 1022</label>
      <label class="opt"><input type="radio" name="q17" value="c"> 4094</label>
      <div class="feedback">Explicación: 32−21=11 → 2^11−2 = 2046.</div>
      <button onclick="toggleHint(this)">Pista</button><div class="hint">Bits de host.</div>
    </div>

    <div class="q" data-q="18" data-ans="b">
      <div><strong>C18.</strong> VLSM busca principalmente…</div>
      <label class="opt"><input type="radio" name="q18" value="a"> Igualar todas las subredes</label>
      <label class="opt"><input type="radio" name="q18" value="b"> Ajustar tamaños de subred a la necesidad real</label>
      <label class="opt"><input type="radio" name="q18" value="c"> Eliminar el broadcast</label>
      <div class="feedback">Explicación: subredes de distinto tamaño según demanda.</div>
      <button onclick="toggleHint(this)">Pista</button><div class="hint">Flexibilidad.</div>
    </div>
  </section>

  <section class="panel">
    <h2>Bloque D — Wildcard y ACL (Cisco)</h2>

    <div class="q" data-q="19" data-ans="a">
      <div><strong>D19.</strong> Wildcard para <span class="mono">255.255.255.0</span>:</div>
      <label class="opt"><input type="radio" name="q19" value="a"> 0.0.0.255</label>
      <label class="opt"><input type="radio" name="q19" value="b"> 255.255.0.0</label>
      <label class="opt"><input type="radio" name="q19" value="c"> 0.0.255.0</label>
      <div class="feedback">Explicación: wildcard = 255 − máscara (por octeto).</div>
      <button onclick="toggleHint(this)">Pista</button><div class="hint">Resta por octetos.</div>
    </div>

    <div class="q" data-q="20" data-ans="c">
      <div><strong>D20.</strong> Wildcard de <span class="mono">/27</span> (255.255.255.224):</div>
      <label class="opt"><input type="radio" name="q20" value="a"> 0.0.0.224</label>
      <label class="opt"><input type="radio" name="q20" value="b"> 0.0.0.63</label>
      <label class="opt"><input type="radio" name="q20" value="c"> 0.0.0.31</label>
      <div class="feedback">Explicación: 255−224=31 → 0.0.0.31.</div>
      <button onclick="toggleHint(this)">Pista</button><div class="hint">Complemento.</div>
    </div>

    <div class="q" data-q="21" data-ans="b">
      <div><strong>D21.</strong> ACL para toda la subred 192.168.10.0/26 coincide con…</div>
      <label class="opt"><input type="radio" name="q21" value="a"> 192.168.10.0 0.0.0.127</label>
      <label class="opt"><input type="radio" name="q21" value="b"> 192.168.10.0 0.0.0.63</label>
      <label class="opt"><input type="radio" name="q21" value="c"> 192.168.10.128 0.0.0.63</label>
      <div class="feedback">Explicación: /26 → wildcard 0.0.0.63 y red inicial .0.</div>
      <button onclick="toggleHint(this)">Pista</button><div class="hint">Bloque 0–63.</div>
    </div>
  </section>

  <section class="panel">
    <h2>Bloque E — Casos prácticos y diagnóstico</h2>

    <div class="q" data-q="22" data-ans="a">
      <div><strong>E22.</strong> Si PC=192.168.1.10/24 y router LAN=192.168.2.1, el fallo es…</div>
      <label class="opt"><input type="radio" name="q22" value="a"> Máscaras o redes distintas (no misma subred)</label>
      <label class="opt"><input type="radio" name="q22" value="b"> Falta DNS</label>
      <label class="opt"><input type="radio" name="q22" value="c"> Duplicidad de IP</label>
      <div class="feedback">Explicación: no comparten subred → sin conectividad L3 directa.</div>
      <button onclick="toggleHint(this)">Pista</button><div class="hint">/24 = 255.255.255.0.</div>
    </div>

    <div class="q" data-q="23" data-ans="c">
      <div><strong>E23.</strong> En Packet Tracer, todo parece bien pero no hay salida a Internet. Posible causa:</div>
      <label class="opt"><input type="radio" name="q23" value="a"> Cambiar de /24 a /23</label>
      <label class="opt"><input type="radio" name="q23" value="b"> Bajar la MTU</label>
      <label class="opt"><input type="radio" name="q23" value="c"> Falta gateway por defecto</label>
      <div class="feedback">Explicación: sin gateway no hay enrutamiento externo.</div>
      <button onclick="toggleHint(this)">Pista</button><div class="hint">Salida hacia otras redes.</div>
    </div>

    <div class="q" data-q="24" data-ans="b">
      <div><strong>E24.</strong> Direcciones de red y broadcast están…</div>
      <label class="opt"><input type="radio" name="q24" value="a"> Permitidas para hosts</label>
      <label class="opt"><input type="radio" name="q24" value="b"> Reservadas (no asignables a hosts)</label>
      <label class="opt"><input type="radio" name="q24" value="c"> Solo en clase A</label>
      <div class="feedback">Explicación: se reservan por definición de subred.</div>
      <button onclick="toggleHint(this)">Pista</button><div class="hint">Extremos no asignables.</div>
    </div>

    <div class="q" data-q="25" data-ans="a">
      <div><strong>E25.</strong> Uso típico de <span class="mono">/31</span> (RFC 3021):</div>
      <label class="opt"><input type="radio" name="q25" value="a"> Enlaces punto a punto entre routers</label>
      <label class="opt"><input type="radio" name="q25" value="b"> LAN con muchos PCs</label>
      <label class="opt"><input type="radio" name="q25" value="c"> Wi‑Fi de invitados</label>
      <div class="feedback">Explicación: ahorra direcciones; no hay broadcast.</div>
      <button onclick="toggleHint(this)">Pista</button><div class="hint">Dos IP, dos extremos.</div>
    </div>

    <div class="q" data-q="26" data-ans="c">
      <div><strong>E26.</strong> En 172.16.0.0/16 quieres 400 hosts por subred: prefijo mínimo:</div>
      <label class="opt"><input type="radio" name="q26" value="a"> /25</label>
      <label class="opt"><input type="radio" name="q26" value="b"> /26</label>
      <label class="opt"><input type="radio" name="q26" value="c"> /23</label>
      <div class="feedback">Explicación: /23 → 2^(9)−2 = 510 hosts útiles.</div>
      <button onclick="toggleHint(this)">Pista</button><div class="hint">≥400 → 512 direcciones.</div>
    </div>

    <div class="q" data-q="27" data-ans="b">
      <div><strong>E27.</strong> Para evitar conflictos entre IP estáticas y DHCP:</div>
      <label class="opt"><input type="radio" name="q27" value="a"> Mezclar ambas en el mismo rango</label>
      <label class="opt"><input type="radio" name="q27" value="b"> Reservar un bloque fuera del pool DHCP</label>
      <label class="opt"><input type="radio" name="q27" value="c"> Desactivar el broadcast</label>
      <div class="feedback">Explicación: separa estables del rango dinámico.</div>
      <button onclick="toggleHint(this)">Pista</button><div class="hint">Pool ≠ Estáticas.</div>
    </div>
  </section>

  <section class="panel">
    <h2>Bloque F — Repaso mixto</h2>

    <div class="q" data-q="28" data-ans="a">
      <div><strong>F28.</strong> Incremento de subred en 255.255.255.224 es…</div>
      <label class="opt"><input type="radio" name="q28" value="a"> 32</label>
      <label class="opt"><input type="radio" name="q28" value="b"> 64</label>
      <label class="opt"><input type="radio" name="q28" value="c"> 16</label>
      <div class="feedback">Explicación: 256 − 224 = 32.</div>
      <button onclick="toggleHint(this)">Pista</button><div class="hint">256 − máscara del octeto.</div>
    </div>

    <div class="q" data-q="29" data-ans="b">
      <div><strong>F29.</strong> 192.168.50.19 con máscara 255.255.255.240 → red:</div>
      <label class="opt"><input type="radio" name="q29" value="a"> 192.168.50.0</label>
      <label class="opt"><input type="radio" name="q29" value="b"> 192.168.50.16</label>
      <label class="opt"><input type="radio" name="q29" value="c"> 192.168.50.32</label>
      <div class="feedback">Explicación: incremento 16; 16–31 → red = 16.</div>
      <button onclick="toggleHint(this)">Pista</button><div class="hint">Busca el múltiplo inferior.</div>
    </div>

    <div class="q" data-q="30" data-ans="b">
      <div><strong>F30.</strong> ¿Qué afirmación es correcta?</div>
      <label class="opt"><input type="radio" name="q30" value="a"> En /30 no hay broadcast</label>
      <label class="opt"><input type="radio" name="q30" value="b"> En /31 no se reserva broadcast para P2P</label>
      <label class="opt"><input type="radio" name="q30" value="c"> /32 equivale a una subred con 2 hosts</label>
      <div class="feedback">Explicación: /31 usa las dos direcciones para los extremos; /30 sí tiene broadcast; /32 es una única dirección.</div>
      <button onclick="toggleHint(this)">Pista</button><div class="hint">RFC 3021.</div>
    </div>
  </section>

  <section class="panel">
    <h2>Resumen rápido</h2>
    <div class="grid">
      <div>
        <div class="pill">Fórmulas</div>
        <ul>
          <li>Hosts útiles = 2<sup>bits host</sup> − 2 (salvo /31)</li>
          <li>Incremento = 256 − máscara del octeto</li>
          <li>Broadcast = red + (2<sup>bits host</sup> − 1)</li>
          <li>Wildcard = 255 − máscara (por octeto)</li>
        </ul>
      </div>
      <div>
        <div class="pill">Pasos clave</div>
        <ul>
          <li>Convierte prefijo ↔ máscara</li>
          <li>Calcula incremento y bloque</li>
          <li>Red (IP AND máscara) y broadcast</li>
          <li>Asigna gateway y separa pool DHCP</li>
        </ul>
      </div>
      <div>
        <div class="pill">Buenas prácticas</div>
        <ul>
          <li>VLSM: del mayor al menor</li>
          <li>Reserva IP para estáticos</li>
          <li>Documenta rangos y ACL</li>
          <li>Verifica capa física antes de L3</li>
        </ul>
      </div>
    </div>
  </section>
</main>

<footer>
  Test generado para práctica educativa. Abre el archivo en tu navegador. Sin dependencias externas.
</footer>

<script>
function gradeAll(){
  const qs = document.querySelectorAll('.q');
  let ok = 0;
  qs.forEach(q=>{
    const name = 'q'+q.dataset.q;
    const ans = q.dataset.ans;
    const chosen = document.querySelector('input[name="'+name+'"]:checked');
    const fb = q.querySelector('.feedback');
    if(!fb) return;
    fb.style.display = 'block';
    if(chosen && chosen.value === ans){
      fb.classList.remove('bad'); fb.classList.add('ok');
      fb.textContent = '✔ Correcto. ' + fb.textContent.replace(/^✔ Correcto\.\s*/,'').replace(/^✘ Incorrecto\.\s*/,'');
      ok++;
    }else{
      fb.classList.remove('ok'); fb.classList.add('bad');
      const correctLabel = q.querySelector('input[value="'+ans+'"]').parentElement.textContent.trim();
      fb.textContent = '✘ Incorrecto. Respuesta correcta: ' + correctLabel + '. ' + fb.textContent.replace(/^✔ Correcto\.\s*/,'').replace(/^✘ Incorrecto\.\s*/,'');
    }
  });
  document.getElementById('scoreBox').textContent = 'Puntuación: ' + ok + ' / ' + qs.length;
  window.scrollTo({top:0, behavior:'smooth'});
}
function toggleHint(btn){
  const hint = btn.nextElementSibling;
  if(!hint) return;
  hint.style.display = (hint.style.display==='block') ? 'none' : 'block';
}
function showAllHints(){
  document.querySelectorAll('.hint').forEach(h=>h.style.display='block');
}
function resetAll(){
  document.querySelectorAll('input[type="radio"]').forEach(i=> i.checked=false);
  document.querySelectorAll('.feedback').forEach(f=>{f.style.display='none'; f.classList.remove('ok','bad');});
  document.querySelectorAll('.hint').forEach(h=>h.style.display='none');
  document.getElementById('scoreBox').textContent='';
  window.scrollTo({top:0, behavior:'smooth'});
}
</script>
</body>
</html>
