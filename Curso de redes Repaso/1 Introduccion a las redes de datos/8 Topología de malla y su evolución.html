<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Test pr√°ctico: Topolog√≠a de Malla</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root { --ok:#c8f7c5; --err:#f8d7da; --fg:#222; --muted:#666; }
    body { font-family: Arial, system-ui, sans-serif; margin:0; padding:32px; background:#f9f9f9; color:var(--fg); }
    h1 { margin:0 0 8px; }
    p.lead { margin:0 0 20px; color:var(--muted); }
    .question { background:#fff; border-radius:12px; padding:16px; margin:12px 0; box-shadow:0 1px 4px rgba(0,0,0,.06); }
    .question h3 { margin:0 0 8px; font-size:16px; }
    .question label { display:block; padding:6px 10px; border-radius:8px; margin:6px 0; cursor:pointer; }
    .correcta { background: var(--ok); }
    .incorrecta { background: var(--err); }
    .controls { display:flex; gap:10px; margin-top:16px; }
    button { padding:10px 16px; font-size:15px; border-radius:10px; border:0; cursor:pointer; }
    button.primary { background:#111; color:#fff; }
    button.ghost { background:#eee; }
    #resultado { font-weight:700; margin-top:14px; }
    .foot { color:var(--muted); font-size:13px; margin-top:24px; }
    details { margin:10px 0; }
    summary { cursor:pointer; color:#111; }
    ul.layers { margin:6px 0 0 18px; }
  </style>
</head>
<body>
  <h1>Test pr√°ctico:8 Topolog√≠a de malla y su evoluci√≥n</h1>
  <p class="lead">Basado exclusivamente en tu texto: topolog√≠a de malla (completa y parcial), caracter√≠sticas, ventajas, desventajas y aplicaciones cr√≠ticas.</p>

  <details>
    <summary>üìå Recordatorio r√°pido (del propio texto)</summary>
    <ul class="layers">
      <li><b>Malla üîó</b>: cada dispositivo se conecta a varios o a todos los dem√°s, creando m√∫ltiples caminos de comunicaci√≥n.</li>
      <li><b>Malla parcial</b>: solo algunos nodos tienen m√∫ltiples conexiones directas (menos coste, menos complejidad).</li>
      <li><b>Malla completa</b>: todos los nodos conectados entre s√≠ (m√°xima redundancia, m√°s coste y complejidad).</li>
      <li><b>Aplicaciones</b>: servicios financieros üè¶, hospitales üè•, comunicaciones de emergencia üö®, centros de datos üíæ.</li>
    </ul>
  </details>

  <div id="quiz"></div>
  <div class="controls">
    <button class="primary" onclick="corregir()">Corregir</button>
    <button class="ghost" onclick="reiniciar()">Reiniciar</button>
  </div>
  <p id="resultado"></p>
  <p class="foot">Aciertos en verde ‚úÖ ¬∑ Errores en rojo ‚ùå ¬∑ Preguntas solo de lo explicado en el texto.</p>

  <script>
    const preguntas = [
      { t: "üîó ¬øQu√© caracteriza a la topolog√≠a de malla?", o: ["Cada dispositivo conectado a varios o todos los dem√°s", "Un √∫nico canal compartido", "Dispositivos conectados en c√≠rculo"], c: 0 },
      { t: "üõ°Ô∏è ¬øPor qu√© es valiosa la malla en entornos cr√≠ticos?", o: ["Porque es m√°s barata siempre", "Porque asegura redundancia y continuidad incluso ante fallos", "Porque no necesita cableado"], c: 1 },

      { t: "üåê En una malla completa, cada nodo‚Ä¶", o: ["Est√° conectado a todos los dem√°s directamente", "Se conecta solo al switch central", "Env√≠a datos solo en una direcci√≥n"], c: 0 },
      { t: "üí∞ Desventaja de la malla completa", o: ["Requiere m√°s coste y cableado", "Siempre se interrumpe si un nodo falla", "No sirve para aplicaciones cr√≠ticas"], c: 0 },

      { t: "üìâ En una malla parcial‚Ä¶", o: ["Todos los nodos tienen conexi√≥n directa a todos", "Solo algunos nodos tienen m√∫ltiples conexiones", "No existe redundancia"], c: 1 },
      { t: "‚öñÔ∏è Ventaja de la malla parcial", o: ["Equilibra coste y rendimiento", "Siempre m√°s r√°pida que todas", "No requiere nodos intermedios nunca"], c: 0 },

      { t: "üè¶ ¬øD√≥nde se recomienda usar topolog√≠a de malla seg√∫n el texto?", o: ["En videojuegos caseros", "En hospitales, bancos y servicios de emergencia", "En redes de baja importancia"], c: 1 },

      { t: "üö® ¬øQu√© ocurre si una conexi√≥n falla en malla completa?", o: ["La red encuentra autom√°ticamente otro camino", "Toda la red cae", "Los datos se pierden"], c: 0 },

      { t: "üí° ¬øPor qu√© una empresa de servicios financieros invertir√≠a en malla completa?", o: ["Porque ofrece m√°xima fiabilidad y robustez", "Porque es la m√°s econ√≥mica", "Porque evita el uso de routers"], c: 0 },

      { t: "‚öîÔ∏è Comparativa: ¬øQu√© ventaja clave ofrece la malla frente a estrella, anillo o bus?", o: ["Mayor redundancia y tolerancia a fallos", "Menor coste y cableado", "Datos siempre m√°s r√°pidos que fibra"], c: 0 }
    ];

    const quiz = document.getElementById('quiz');
    preguntas.forEach((q, i) => {
      const box = document.createElement('div');
      box.className = 'question';
      const h = document.createElement('h3');
      h.textContent = `${i + 1}. ${q.t}`;
      box.appendChild(h);
      q.o.forEach((op, j) => {
        const lb = document.createElement('label');
        lb.classList.add(`q${i}`);
        const ip = document.createElement('input');
        ip.type = 'radio'; ip.name = `q${i}`; ip.value = j;
        lb.appendChild(ip); lb.appendChild(document.createTextNode(' ' + op));
        box.appendChild(lb);
      });
      quiz.appendChild(box);
    });

    function corregir(){
      let total = 0;
      preguntas.forEach((q, i) => {
        const sel = document.querySelector(`input[name=\"q${i}\"]:checked`);
        const labels = document.querySelectorAll(`label.q${i}`);
        labels.forEach((lb, j) => {
          lb.classList.remove('correcta','incorrecta');
          if (j === q.c) lb.classList.add('correcta');
        });
        if (sel) {
          if (parseInt(sel.value) === q.c) total++; else {
            labels[parseInt(sel.value)].classList.add('incorrecta');
          }
        }
      });
      const answered = document.querySelectorAll('input[type=\"radio\"]:checked').length;
      const res = document.getElementById('resultado');
      if (answered < preguntas.length) { res.textContent = 'Por favor, responde todas las preguntas.'; res.style.color = 'red'; return; }
      res.textContent = `Tu puntuaci√≥n: ${total} / ${preguntas.length}`;
      res.style.color = total >= preguntas.length * 0.85 ? 'green' : total >= preguntas.length * 0.6 ? 'orange' : 'red';
    }

    function reiniciar(){
      document.getElementById('resultado').textContent = '';
      document.querySelectorAll('input[type=\"radio\"]').forEach(i => i.checked = false);
      document.querySelectorAll('label').forEach(lb => lb.classList.remove('correcta','incorrecta'));
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
  </script>
</body>
</html>
