<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Tipos de redes: LAN, PAN, MAN, WAN — Explicación + Test</title>
<style>
  :root { --ok:#16a34a; --bad:#dc2626; --muted:#6b7280; --card:#0ea5e9; --accent:#2563eb; }
  body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, 'Noto Sans'; margin: 24px; line-height: 1.45; }
  header { border: 2px solid #e5e7eb; border-left: 8px solid var(--card); padding: 16px 18px; border-radius: 14px; margin-bottom: 22px; background: #f8fafc; }
  h1 { margin: 0 0 6px 0; font-size: 1.6rem; }
  h2 { font-size: 1.2rem; margin: 18px 0 8px; }
  .pill { display:inline-block; background:#e0f2fe; color:#0369a1; padding:2px 10px; border-radius:999px; font-size:.9rem; margin-bottom:8px; }
  .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
  .story { background:#fff; border:1px dashed #cbd5e1; padding:12px 14px; border-radius:12px; }
  .grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(240px,1fr)); gap:10px; margin-top:8px; }
  .card { background:#ffffff; border:1px solid #e5e7eb; border-radius:12px; padding:10px 12px; }
  .mnemo { background:#ecfeff; border:1px solid #bae6fd; padding:10px 12px; border-radius:12px; }
  .muted { color:#6b7280; }

  /* Novato panel */
  .reader-tools { display:flex; gap:10px; align-items:center; margin: 12px 0 8px; flex-wrap:wrap; }
  .switch { display:inline-flex; align-items:center; gap:8px; }
  .switch button { padding:8px 12px; border-radius:999px; border:1px solid #e5e7eb; background:#1f2937; color:#fff; cursor:pointer; }
  .novato { border: 1px solid #e5e7eb; border-left: 6px solid var(--accent); background:#eff6ff; color:#1e3a8a; padding: 14px; border-radius: 12px; margin: 10px 0 18px; }
  .novato h3 { margin: 0 0 8px 0; }
  .novato .cols { display:grid; grid-template-columns: repeat(auto-fit, minmax(240px,1fr)); gap: 12px; }

  /* Quiz */
  .quiz-card { border:1px solid #e5e7eb; border-radius:14px; padding:0; margin:18px 0; background:#fff; overflow:hidden; }
  .toolbar { position: sticky; top: 0; z-index: 50; display:flex; gap:10px; align-items:center; justify-content:flex-start; padding:12px 16px; border-bottom:1px solid #e5e7eb; background:#f9fafb; }
  .legend { padding: 8px 16px; font-size:.95rem; color:#475569; border-bottom:1px solid #e5e7eb; }
  .qwrap { padding:16px; }
  .q { border:1px solid #e5e7eb; border-radius:12px; padding:12px; margin:14px 0 12px; background:#fff; }
  .q p { margin: 0 0 8px 0; }
  label { display:block; padding:6px 10px; border-radius:10px; border:1px solid #e5e7eb; margin:6px 0; }
  .correct { background: #dcfce7; border-color: #bbf7d0; }
  .incorrect { background: #fee2e2; border-color: #fecaca; }
  .controls { display:flex; gap:10px; flex-wrap:wrap; margin-left:auto; }
  button { padding:10px 14px; border-radius:12px; border:1px solid #e5e7eb; cursor:pointer; background:#111827; color:#fff; }
  button.secondary { background:#f3f4f6; color:#111827; }
  .score { font-weight:700; margin-left: auto; }
  .feedback { display:none; margin-top:8px; padding:10px 12px; border-left:4px solid var(--bad); background:#fff1f2; border-radius:10px; }
  .success { display:none; margin-top:8px; padding:10px 12px; border-left:4px solid var(--ok); background:#ecfdf5; border-radius:10px; }
  .hint { display:none; margin-top:8px; padding:8px 10px; border-left:4px solid var(--accent); background:#eff6ff; border-radius:10px; color:#1e3a8a; }
  .hint-btn { background:#1f2937; }
  footer { margin-top:24px; color:#475569; font-size:.95rem; }
</style>
</head>
<body>
<header>
  <div class="pill">Redes — LAN · PAN · MAN · WAN</div>
  <h1>6 Tipos de redes</h1>
  <p>Pensar en redes como un <b>sistema circulatorio</b> ayuda: <i>capilares</i> (PAN), <i>barrios</i> (LAN), <i>ciudad</i> (MAN), <i>mundo</i> (WAN). Cada una mueve “sangre” (datos) a su escala.</p>

  <div class="grid">
    <div class="card"><b>PAN (Personal)</b> Alrededor de una persona: móvil, reloj, auriculares. Suele usar <b>Bluetooth</b> y <b>NFC</b>.</div>
    <div class="card"><b>LAN (Local)</b> Casa/oficina/aula. Conecta PCs, impresoras, NAS. <b>Ethernet/Wi‑Fi</b>, <b>switches/routers</b>.</div>
    <div class="card"><b>MAN (Metropolitana)</b> Une varias LAN dentro de una <b>ciudad</b> (campus, sedes). Tecnologías históricas: <b>DQDB</b>, <b>SMDS</b>.</div>
    <div class="card"><b>WAN (Amplia)</b> Conecta <b>regiones/países</b>. Soporta <b>MPLS</b>, <b>VPN</b> sobre Internet o redes de operador.</div>
  </div>

  <h2>Nemotecnia</h2>
  <div class="mnemo">
    <p><b>De menor a mayor alcance:</b> <span class="mono">Pa-La-Ma-Wa</span> → <b>PAN</b> (persona) → <b>LAN</b> (lugar) → <b>MAN</b> (metrópoli) → <b>WAN</b> (world/mundo).</p>
    <p class="muted">Otra imagen: <b>bolsillo ⇢ casa ⇢ ciudad ⇢ planeta</b>.</p>
  </div>

  <h2>Historia breve</h2>
  <div class="story">
    <p>Tu <b>PAN</b> es tu “equipo personal”: móvil, reloj y auriculares coordinados. En casa/oficina, tu <b>LAN</b> comparte Internet e impresora. La universidad conecta sus campus con una <b>MAN</b>. Y la empresa global une sedes Europa‑América por <b>WAN</b> (MPLS/VPN). Es el mismo “sistema circulatorio”, ampliado.</p>
  </div>

  <!-- Modo Novato -->
  <div class="reader-tools">
    <div class="switch">
      <span>Modo Novato:</span>
      <button id="toggle-novato">Activado</button>
    </div>
    <span class="muted">Explicación llana y mapa mental para empezar.</span>
  </div>

  <section id="novato-panel" class="novato">
    <h3>Explicación para principiantes</h3>
    <div class="cols">
      <div class="card">
        <b>Qué es cada una</b>
        <ul>
          <li><b>PAN</b>: tus dispositivos personales entre sí (Bluetooth/NFC).</li>
          <li><b>LAN</b>: los equipos de una casa/oficina (Ethernet/Wi‑Fi).</li>
          <li><b>MAN</b>: une varias LAN de una ciudad (campus/ayuntamientos).</li>
          <li><b>WAN</b>: une ciudades/países (operadores, Internet, MPLS/VPN).</li>
        </ul>
      </div>
      <div class="card">
        <b>Elegir la adecuada</b>
        <ul>
          <li>Reloj ⇢ móvil ⇢ auriculares → <b>PAN</b>.</li>
          <li>PC ⇢ impresora ⇢ NAS en casa → <b>LAN</b>.</li>
          <li>Campus centro ⇢ campus norte → <b>MAN</b>.</li>
          <li>Madrid ⇢ Tokio empresa → <b>WAN</b> (VPN/MPLS).</li>
        </ul>
      </div>
      <div class="card">
        <b>Pública vs privada</b>
        <ul>
          <li><b>Privadas</b>: tu LAN, las redes corporativas.</li>
          <li><b>Públicas</b>: Internet (WAN global).</li>
        </ul>
      </div>
      <div class="card">
        <b>Glosario rápido</b>
        <ul>
          <li><b>MPLS</b>: crea “rutas con etiquetas” eficientes en la WAN.</li>
          <li><b>VPN</b>: túnel cifrado por Internet entre sedes/usuarios.</li>
          <li><b>DQDB/SMDS</b>: tecnologías clásicas de MAN.</li>
        </ul>
      </div>
    </div>
  </section>
</header>

<section class="quiz-card">
  <div class="toolbar">
    <div class="controls">
      <button id="btn-correct">Corregir</button>
      <button id="btn-reset" class="secondary">Reiniciar y barajar</button>
    </div>
    <span class="score" id="score"></span>
  </div>
  <div class="legend">Antes de corregir, pulsa <b>Pista</b> en cada pregunta. Al corregir: correctas en <b>verde</b>, tus selecciones erróneas en <b>rojo</b>, y verás <b>respuesta correcta + explicación</b> si fallas.</div>
  <div class="qwrap" id="quiz"></div>
</section>

<footer>
  <p class="muted">Tip: repite <b>Pa‑La‑Ma‑Wa</b> (PAN, LAN, MAN, WAN) antes del test.</p>
</footer>

<script>
// ===== Utilidades =====
function shuffle(arr) {
  for (let i = arr.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
  return arr;
}

// Modo Novato con persistencia
const novatoBtn = document.getElementById('toggle-novato');
const novatoPanel = document.getElementById('novato-panel');
function setNovato(on) {
  novatoPanel.style.display = on ? 'block' : 'none';
  novatoBtn.textContent = on ? 'Activado' : 'Desactivado';
  localStorage.setItem('novato_on', on ? '1' : '0');
}
novatoBtn.addEventListener('click', () => setNovato(novatoPanel.style.display === 'none'));
setNovato(localStorage.getItem('novato_on') !== '0'); // por defecto activado

// ===== Banco de preguntas =====
const BANK = [
  { type:"single",
    text:"La red que conecta tus auriculares, reloj y móvil alrededor de tu cuerpo es:",
    options:[
      {t:"PAN (Personal Area Network)", ok:true},
      {t:"LAN (Local Area Network)", ok:false},
      {t:"WAN (Wide Area Network)", ok:false}
    ],
    hint:"Piensa en el ‘bolsillo’.",
    explain:"Una PAN conecta dispositivos personales cercanos, normalmente por Bluetooth/NFC."
  },
  { type:"multi",
    text:"Tecnologías típicas de una PAN:",
    options:[
      {t:"Bluetooth", ok:true},
      {t:"NFC (Near Field Communication)", ok:true},
      {t:"MPLS", ok:false},
      {t:"BGP", ok:false}
    ],
    hint:"Corta distancia y sin cables.",
    explain:"PAN usa enlaces de corto alcance (Bluetooth/NFC). MPLS/BGP son de redes amplias (WAN)."
  },
  { type:"single",
    text:"Una característica típica de una LAN es:",
    options:[
      {t:"Cubre un área limitada (casa/oficina) con alta velocidad", ok:true},
      {t:"Conecta países distintos", ok:false},
      {t:"Se basa en enlaces por satélite", ok:false}
    ],
    hint:"Piensa en tu red doméstica.",
    explain:"LAN opera en espacios limitados con Ethernet/Wi‑Fi y baja latencia."
  },
  { type:"multi",
    text:"Elementos usuales en una LAN:",
    options:[
      {t:"Switches y puntos de acceso Wi‑Fi", ok:true},
      {t:"Ethernet (IEEE 802.3)", ok:true},
      {t:"DQDB/SMDS", ok:false},
      {t:"Rutas intercontinentales MPLS", ok:false}
    ],
    hint:"Tecnologías de interior/edificio.",
    explain:"LAN usa switches, Wi‑Fi y Ethernet. DQDB/SMDS son MAN; MPLS es WAN."
  },
  { type:"single",
    text:"Una MAN se usa principalmente para:",
    options:[
      {t:"Interconectar varias LAN dentro de una ciudad", ok:true},
      {t:"Conectar auriculares a un móvil", ok:false},
      {t:"Enlazar oficinas en diferentes continentes", ok:false}
    ],
    hint:"Piensa en el ‘transporte público’ metropolitano.",
    explain:"MAN une sedes/campus de una misma área metropolitana."
  },
  { type:"multi",
    text:"Tecnologías históricas asociadas a MAN:",
    options:[
      {t:"DQDB (Distributed Queue Dual Bus)", ok:true},
      {t:"SMDS (Switched Multimegabit Data Service)", ok:true},
      {t:"ARP", ok:false},
      {t:"TLS", ok:false}
    ],
    hint:"Ambas empiezan por ‘D’ y ‘S’.",
    explain:"DQDB y SMDS se emplearon para redes metropolitanas de alta velocidad."
  },
  { type:"single",
    text:"La red adecuada para conectar sedes en distintos países suele ser:",
    options:[
      {t:"WAN (Wide Area Network)", ok:true},
      {t:"LAN", ok:false},
      {t:"PAN", ok:false}
    ],
    hint:"Piensa en ‘planeta’.",
    explain:"WAN abarca regiones/países y usa operadores, Internet, MPLS y VPN."
  },
  { type:"multi",
    text:"Elige tecnologías/procedimientos propios de WAN/backbone:",
    options:[
      {t:"MPLS para rutas eficientes", ok:true},
      {t:"VPN para túneles cifrados entre sedes", ok:true},
      {t:"Bluetooth", ok:false},
      {t:"STP (Spanning Tree) de una LAN", ok:false}
    ],
    hint:"Rutas de operador y cifrado entre sedes.",
    explain:"MPLS/VPN son típicos de WAN; Bluetooth y STP pertenecen a otras capas/ámbitos."
  },
  { type:"single",
    text:"Internet se considera:",
    options:[
      {t:"Una WAN pública global", ok:true},
      {t:"Una LAN privada", ok:false},
      {t:"Una PAN cifrada", ok:false}
    ],
    hint:"No pertenece a una sola organización.",
    explain:"Internet es la red pública más extensa (WAN global)."
  },
  { type:"multi",
    text:"Asocia el escenario con el tipo de red correcto:",
    options:[
      {t:"Smartwatch ⇢ móvil por Bluetooth → PAN", ok:true},
      {t:"Casa con 10 dispositivos y NAS → LAN", ok:true},
      {t:"Universidad une campus de la ciudad → MAN", ok:true},
      {t:"Dos PCs por Bluetooth a 10 km → PAN", ok:false}
    ],
    hint:"Recuerda Pa‑La‑Ma‑Wa.",
    explain:"Bluetooth es PAN de corto alcance; casa/oficina es LAN; campus-ciudad es MAN."
  },
  { type:"single",
    text:"Para proteger la comunicación entre dos sedes a través de Internet, sueles usar:",
    options:[
      {t:"VPN (túnel cifrado)", ok:true},
      {t:"Cambio de canal Bluetooth", ok:false},
      {t:"ACL en un switch doméstico", ok:false}
    ],
    hint:"Cifrado punto a punto sobre Internet.",
    explain:"La VPN proporciona confidencialidad e integridad entre sedes sobre la WAN pública."
  },
  { type:"single",
    text:"Una universidad con varios campus dentro de la misma ciudad debería desplegar:",
    options:[
      {t:"MAN", ok:true},
      {t:"PAN", ok:false},
      {t:"WAN intercontinental", ok:false}
    ],
    hint:"Ámbito metropolitano.",
    explain:"MAN conecta LANs dentro de una ciudad o área metropolitana."
  },
  { type:"single",
    text:"Orden correcto de menor a mayor alcance:",
    options:[
      {t:"PAN → LAN → MAN → WAN", ok:true},
      {t:"LAN → PAN → WAN → MAN", ok:false},
      {t:"MAN → PAN → LAN → WAN", ok:false}
    ],
    hint:"Bolsillo ⇢ casa ⇢ ciudad ⇢ planeta.",
    explain:"Es el orden natural por escala: personal, local, metropolitana, amplia."
  },
  { type:"single",
    text:"¿En qué escenario tiene más sentido usar MPLS?",
    options:[
      {t:"Backbone de operador entre sedes para rutas predecibles/eficientes", ok:true},
      {t:"Emparejar auriculares con el móvil", ok:false},
      {t:"Conectar dos PCs por cable directo en casa", ok:false}
    ],
    hint:"Piensa en etiquetas en la red del operador.",
    explain:"MPLS etiqueta flujos en la red del proveedor para garantizar caminos y QoS."
  },
  { type:"multi",
    text:"Afirmaciones correctas:",
    options:[
      {t:"LAN suele tener alta velocidad y baja latencia", ok:true},
      {t:"MAN conecta LAN de una misma ciudad", ok:true},
      {t:"WAN puede apoyarse en operadores/Internet", ok:true},
      {t:"PAN normalmente requiere cables", ok:false}
    ],
    hint:"Revisa la historia breve.",
    explain:"PAN es inalámbrica de corto alcance; las demás definiciones son correctas."
  },
  { type:"single",
    text:"Quieres compartir archivos entre portátiles y un NAS en tu piso. ¿Qué te conviene?",
    options:[
      {t:"LAN (Ethernet/Wi‑Fi con switch/router)", ok:true},
      {t:"WAN con MPLS", ok:false},
      {t:"Sólo PAN con Bluetooth", ok:false}
    ],
    hint:"Ámbito doméstico.",
    explain:"LAN resuelve la conectividad en casa/oficina con buen rendimiento."
  },
  { type:"single",
    text:"Pagos móviles por ‘acercar’ el teléfono al datáfono utilizan sobre todo:",
    options:[
      {t:"NFC (parte de una PAN)", ok:true},
      {t:"SMDS (MAN)", ok:false},
      {t:"MPLS (WAN)", ok:false}
    ],
    hint:"Muy corto alcance y rápido.",
    explain:"NFC es comunicación de muy corto alcance típica de PAN."
  }
];

let QUESTIONS = [];
const quiz = document.getElementById('quiz');
const btnCorrect = document.getElementById('btn-correct');
const btnReset = document.getElementById('btn-reset');
const scoreEl = document.getElementById('score');

function createQuestionEl(q, idx) {
  const wrapper = document.createElement('div');
  wrapper.className = 'q';
  wrapper.dataset.type = q.type;

  const p = document.createElement('p');
  p.innerHTML = `<b>${idx + 1}.</b> ${q.text}`;
  wrapper.appendChild(p);

  const opts = shuffle(q.options.map(o => ({...o})));
  opts.forEach(o => {
    const label = document.createElement('label');
    const input = document.createElement('input');
    input.type = 'checkbox';
    input.value = o.ok ? 'true' : 'false';
    label.appendChild(input);
    label.insertAdjacentText('beforeend', ' ' + o.t);
    wrapper.appendChild(label);
  });

  const hintBtn = document.createElement('button');
  hintBtn.type = 'button';
  hintBtn.textContent = 'Pista';
  hintBtn.className = 'hint-btn secondary';
  const hintBox = document.createElement('div');
  hintBox.className = 'hint';
  hintBox.innerHTML = q.hint;
  wrapper.appendChild(hintBtn);
  wrapper.appendChild(hintBox);

  const fb = document.createElement('div');
  fb.className = 'feedback';
  wrapper.appendChild(fb);
  const ok = document.createElement('div');
  ok.className = 'success';
  ok.textContent = '✅ ¡Correcto!';
  wrapper.appendChild(ok);

  hintBtn.addEventListener('click', () => {
    hintBox.style.display = 'block';
    hintBtn.disabled = true;
  });

  return wrapper;
}

function buildQuiz() {
  quiz.innerHTML = '';
  QUESTIONS = shuffle(BANK.map(q => ({...q, options: q.options.map(o => ({...o}))})));
  QUESTIONS.forEach((q, i) => quiz.appendChild(createQuestionEl(q, i)));
  scoreEl.textContent = '';
  window.scrollTo({ top: 0 });
}

function evaluateQuestion(node) {
  const type = node.dataset.type;
  const labels = Array.from(node.querySelectorAll('label'));
  let ok = true;
  let correctTexts = [];

  labels.forEach(label => {
    label.classList.remove('correct', 'incorrect');
    const cb = label.querySelector('input[type="checkbox"]');
    const isTrue = cb.value === 'true';
    const checked = cb.checked;
    if (isTrue) {
      label.classList.add('correct');
      correctTexts.push(label.textContent.trim());
      if (!checked) ok = false;
    } else {
      if (checked) {
        label.classList.add('incorrect');
        ok = false;
      }
    }
  });

  if (type === 'single') {
    const checkedCount = labels.filter(l => l.querySelector('input').checked).length;
    const correctChecked = labels.some(l => l.querySelector('input').checked && l.querySelector('input').value === 'true');
    if (!(checkedCount === 1 && correctChecked)) ok = false;
  }

  const fb = node.querySelector('.feedback');
  const okBox = node.querySelector('.success');
  if (ok) {
    fb.style.display = 'none';
    fb.innerHTML = '';
    okBox.style.display = 'block';
  } else {
    okBox.style.display = 'none';
    const qText = node.querySelector('p').innerText.replace(/^\d+\.\s*/, '');
    const match = QUESTIONS.find(q => q.text === qText);
    const explanation = match ? match.explain : '';
    const correctList = correctTexts.map(t => `<li>${t}</li>`).join('');
    fb.innerHTML = `<b>Respuesta correcta:</b><ul>${correctList}</ul><div>${explanation}</div>`;
    fb.style.display = 'block';
  }
  return ok;
}

function correctAll() {
  const qNodes = Array.from(document.querySelectorAll('.q'));
  let right = 0;
  qNodes.forEach(node => { if (evaluateQuestion(node)) right++; });
  scoreEl.textContent = `Puntuación: ${right} / ${qNodes.length}`;
  document.querySelector('.quiz-card').scrollIntoView({ behavior: 'smooth', block: 'start' });
}

function resetAll() {
  buildQuiz();
}

document.getElementById('btn-correct').addEventListener('click', correctAll);
document.getElementById('btn-reset').addEventListener('click', resetAll);

// Inicial
buildQuiz();
</script>
</body>
</html>
