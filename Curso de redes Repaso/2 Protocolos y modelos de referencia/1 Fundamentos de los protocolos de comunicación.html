<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Test prÃ¡ctico: Protocolos de ComunicaciÃ³n â€“ TCP/IP, HTTP, FTP, SMTP</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root { --ok:#c8f7c5; --err:#f8d7da; --fg:#222; --muted:#666; }
    body { font-family: Arial, system-ui, sans-serif; margin:0; padding:32px; background:#f9f9f9; color:var(--fg); }
    h1 { margin:0 0 8px; }
    p.lead { margin:0 0 20px; color:var(--muted); }
    .question { background:#fff; border-radius:12px; padding:16px; margin:12px 0; box-shadow:0 1px 4px rgba(0,0,0,.06); }
    .question h3 { margin:0 0 8px; font-size:16px; }
    .question label { display:block; padding:6px 10px; border-radius:8px; margin:6px 0; cursor:pointer; }
    .correcta { background: var(--ok); }
    .incorrecta { background: var(--err); }
    .controls { display:flex; gap:10px; margin-top:16px; }
    button { padding:10px 16px; font-size:15px; border-radius:10px; border:0; cursor:pointer; }
    button.primary { background:#111; color:#fff; }
    button.ghost { background:#eee; }
    #resultado { font-weight:700; margin-top:14px; }
    .foot { color:var(--muted); font-size:13px; margin-top:24px; }
    details { margin:10px 0; }
    summary { cursor:pointer; color:#111; }
    ul.checks { margin:6px 0 0 18px; }
  </style>
</head>
<body>
  <h1>Test prÃ¡ctico: 1 Fundamentos de los protocolos de comunicaciÃ³n</h1>
  <p class="lead">Basado exclusivamente en tu texto: quÃ© son los protocolos, por quÃ© son crÃ­ticos, y funciones de TCP/IP, HTTP, FTP y SMTP (con menciÃ³n de IMAP/POP para recepciÃ³n). Aciertos en verde âœ… y errores en rojo âŒ.</p>

  <details>
    <summary>ğŸ“Œ Recordatorio rÃ¡pido (del propio texto)</summary>
    <ul class="checks">
      <li><b>Protocolos</b> = reglas para que dispositivos distintos se entiendan y coordinen (enrutamiento, acceso, errores, seguridad).</li>
      <li><b>TCP/IP</b>: base de Internet. TCP â segmenta, asegura orden y control de flujo; IP â direcciona cada paquete al destino.</li>
      <li><b>HTTP</b>: modelo solicitud/respuesta entre navegador y servidor; entrega HTML para mostrar pÃ¡ginas y navegar (hipertexto).</li>
      <li><b>FTP</b>: transferencia de archivos; <i>dos conexiones</i> (control y datos); Ãºtil para subir/descargar; alternativas seguras: SFTP/FTPS.</li>
      <li><b>SMTP</b>: envÃ­a correos entre servidores; para <i>recibir/leer</i> se emplean <b>IMAP</b> o <b>POP</b>.</li>
    </ul>
  </details>

  <div id="quiz"></div>
  <div class="controls">
    <button class="primary" onclick="corregir()">Corregir</button>
    <button class="ghost" onclick="reiniciar()">Reiniciar</button>
  </div>
  <p id="resultado"></p>
  <p class="foot">Preguntas creadas solo a partir del texto proporcionado. ğŸ§ </p>

  <script>
    const preguntas = [
      // Concepto general
      { t: "ğŸŒ Sin protocolos, Â¿quÃ© ocurrirÃ­a segÃºn el texto?", o: ["La coordinaciÃ³n serÃ­a caÃ³tica y los mensajes se perderÃ­an", "Internet funcionarÃ­a igual", "Los servidores no serÃ­an necesarios"], c: 0 },
      { t: "ğŸ§­ Â¿QuÃ© son los protocolos de comunicaciÃ³n?", o: ["Conjunto de reglas y procedimientos estandarizados para transmitir datos", "Un tipo de hardware de red", "Un lenguaje de programaciÃ³n"], c: 0 },
      { t: "ğŸ›¡ï¸ Funciones que facilitan los protocolos (segÃºn el texto)", o: ["Enrutamiento, control de acceso, gestiÃ³n de errores y seguridad", "Solo diseÃ±o de pÃ¡ginas web", "Exclusivamente compresiÃ³n de imÃ¡genes"], c: 0 },

      // TCP/IP
      { t: "ğŸ§© TCP/IP esâ€¦", o: ["Un protocolo para imÃ¡genes", "El conjunto fundamental que rige Internet", "Solo un cable especial"], c: 1 },
      { t: "ğŸ“¦ Rol de TCP (segÃºn el texto)", o: ["Dirigir paquetes a su destino", "Descomponer mensajes, asegurar entrega correcta y en orden, y controlar el flujo", "Mostrar HTML en el navegador"], c: 1 },
      { t: "ğŸ—ºï¸ Rol de IP (segÃºn el texto)", o: ["Cifrar mensajes", "Dirigir cada paquete al destino correcto", "Hacer copias de seguridad"], c: 1 },

      // HTTP
      { t: "ğŸŒ HTTP opera con un modeloâ€¦", o: ["Token y anillo", "Solicitud del navegador y respuesta del servidor", "DifusiÃ³n a todos los dispositivos"], c: 1 },
      { t: "ğŸ§± Â¿QuÃ© suele contener la respuesta HTTP descrita en el texto?", o: ["CÃ³digo HTML de la pÃ¡gina solicitada", "Solo imÃ¡genes", "Datos binarios sin formato"], c: 0 },
      { t: "ğŸ”— El tÃ©rmino â€˜hipertextoâ€™ en el texto se refiere aâ€¦", o: ["Documentos con enlaces a otros documentos", "Texto en mayÃºsculas", "Archivos comprimidos"], c: 0 },

      // FTP
      { t: "ğŸ“ FTP se usa paraâ€¦", o: ["Transferencia de archivos entre computadoras en una red TCP/IP", "Enviar correos entre servidores", "Navegar pÃ¡ginas web"], c: 0 },
      { t: "ğŸ›¤ï¸ Estructura de conexiones en FTP (segÃºn el texto)", o: ["Una Ãºnica conexiÃ³n", "Dos conexiones: una de control y otra de datos", "Tres conexiones simultÃ¡neas"], c: 1 },
      { t: "ğŸ” SegÃºn el texto, alternativas mÃ¡s seguras a FTP sonâ€¦", o: ["SFTP o FTPS", "SMTP o IMAP", "HTTP o POP"], c: 0 },

      // SMTP e IMAP/POP
      { t: "âœ‰ï¸ SMTP se encarga deâ€¦", o: ["Recibir correos en el cliente", "Enviar mensajes de correo entre servidores", "Transferir archivos grandes"], c: 1 },
      { t: "ğŸ“¥ Para <i>recibir y leer</i> correos, el texto indica que SMTP trabaja conâ€¦", o: ["IMAP o POP", "FTP o FTPS", "HTTP solamente"], c: 0 },

      // Escenarios prÃ¡cticos
      { t: "ğŸ§ª Escenario: escribes una URL en el navegador y pulsas Enter. Â¿QuÃ© protocolo media la solicitud y la respuesta?", o: ["FTP", "HTTP", "SMTP"], c: 1 },
      { t: "ğŸš€ Escenario: debes subir imÃ¡genes y actualizaciones a tu servidor web. Â¿QuÃ© protocolo usarÃ­as segÃºn el texto?", o: ["FTP", "SMTP", "POP"], c: 0 },
      { t: "ğŸ“¨ Escenario: envÃ­as un correo desde tu cliente (Gmail/Outlook). Â¿QuÃ© protocolo lo envÃ­a al servidor de destino?", o: ["SMTP", "IMAP", "FTP"], c: 0 },
      { t: "ğŸ“¬ Escenario: quieres <i>leer</i> los correos que estÃ¡n en el servidor. Â¿QuÃ© usarÃ­as?", o: ["IMAP o POP", "SMTP", "SFTP"], c: 0 },
      { t: "ğŸ§  Escenario global: Â¿quÃ© conjunto sostiene la comunicaciÃ³n de red subyacente en Internet?", o: ["TCP/IP", "HTTP", "FTP"], c: 0 }
    ];

    const quiz = document.getElementById('quiz');
    preguntas.forEach((q, i) => {
      const box = document.createElement('div');
      box.className = 'question';
      const h = document.createElement('h3');
      h.textContent = `${i + 1}. ${q.t}`;
      box.appendChild(h);
      q.o.forEach((op, j) => {
        const lb = document.createElement('label');
        lb.classList.add(`q${i}`);
        const ip = document.createElement('input');
        ip.type = 'radio'; ip.name = `q${i}`; ip.value = j;
        lb.appendChild(ip); lb.appendChild(document.createTextNode(' ' + op));
        box.appendChild(lb);
      });
      quiz.appendChild(box);
    });

    function corregir(){
      let total = 0;
      preguntas.forEach((q, i) => {
        const sel = document.querySelector(`input[name=\"q${i}\"]:checked`);
        const labels = document.querySelectorAll(`label.q${i}`);
        labels.forEach((lb, j) => {
          lb.classList.remove('correcta','incorrecta');
          if (j === q.c) lb.classList.add('correcta');
        });
        if (sel) {
          if (parseInt(sel.value) === q.c) total++; else {
            labels[parseInt(sel.value)].classList.add('incorrecta');
          }
        }
      });
      const answered = document.querySelectorAll('input[type=\"radio\"]:checked').length;
      const res = document.getElementById('resultado');
      if (answered < preguntas.length) { res.textContent = 'Por favor, responde todas las preguntas.'; res.style.color = 'red'; return; }
      res.textContent = `Tu puntuaciÃ³n: ${total} / ${preguntas.length}`;
      res.style.color = total >= preguntas.length * 0.85 ? 'green' : total >= preguntas.length * 0.6 ? 'orange' : 'red';
    }

    function reiniciar(){
      document.getElementById('resultado').textContent = '';
      document.querySelectorAll('input[type=\"radio\"]').forEach(i => i.checked = false);
      document.querySelectorAll('label').forEach(lb => lb.classList.remove('correcta','incorrecta'));
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
  </script>
</body>
</html>
