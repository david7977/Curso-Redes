<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üßæ Banco de Preguntas WAN</title>
<style>
  :root { --ok:#16a34a; --bad:#dc2626; --muted:#6b7280; --card:#0ea5e9; --accent:#2563eb; }
  body { font-family: system-ui, Arial, sans-serif; margin: 24px; line-height:1.45; background:#f8fafc;}
  header { border:2px solid #e5e7eb; border-left:8px solid var(--card); padding:16px; border-radius:14px; background:#fff; margin-bottom:24px;}
  h1 { margin-top:0; }
  .quiz-card { border:1px solid #e5e7eb; border-radius:14px; background:#fff; margin:24px 0; }
  .legend{padding:12px 16px; border-bottom:1px solid #e5e7eb; background:#f9fafb; color:#475569;}
  .qwrap{padding:16px;}
  .q{border:1px solid #e5e7eb; border-radius:12px; padding:12px; margin:12px 0;}
  label{display:block; padding:6px 10px; border-radius:10px; border:1px solid #e5e7eb; margin:6px 0;}
  .correct{background:#dcfce7; border-color:#bbf7d0;}
  .incorrect{background:#fee2e2; border-color:#fecaca;}
  .feedback,.success,.hint{display:none; margin-top:8px; padding:8px 10px; border-radius:10px;}
  .feedback{border-left:4px solid var(--bad); background:#fff1f2;}
  .success{border-left:4px solid var(--ok); background:#ecfdf5;}
  .hint{border-left:4px solid var(--accent); background:#eff6ff; color:#1e3a8a;}
  .hint-btn{margin-top:4px; padding:6px 10px; border-radius:10px; background:#1f2937; color:#fff; cursor:pointer; border:none;}
  .toolbar-bottom{display:flex; gap:10px; padding:12px 16px; border-top:1px solid #e5e7eb; background:#f9fafb;}
  .toolbar-bottom button{padding:10px 14px; border-radius:12px; border:1px solid #e5e7eb; cursor:pointer;}
  .primary{background:#111827; color:#fff;}
  .secondary{background:#f3f4f6; color:#111827;}
  .score{margin-left:auto; font-weight:bold;}
</style>
</head>
<body>
<header>
  <h1>üßæ Banco de Preguntas y Respuestas sobre protocolos en WAN</h1>
</header>

<section class="quiz-card">
<div class="legend">Preguntas de una sola respuesta. Usa <b>Pista</b> antes de corregir.</div>
<div class="qwrap" id="quiz"></div>
<div class="toolbar-bottom">
  <button id="btn-correct" class="primary">Corregir</button>
  <button id="btn-shuffle" class="secondary">Barajar</button>
  <button id="btn-reset" class="secondary">Reiniciar</button>
  <span id="score" class="score"></span>
</div>
</section>

<script>
function shuffle(arr){for(let i=arr.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[arr[i],arr[j]]=[arr[j],arr[i]];}return arr;}

const BANK=[
 {text:"¬øQu√© funci√≥n cumple el protocolo IP en una red?", options:[{t:"Asigna direcciones √∫nicas a cada paquete y asegura que llegue a su destino",ok:true},{t:"Cifra contrase√±as",ok:false},{t:"Conecta por Wi-Fi",ok:false}], hint:"Se encarga de direccionar los paquetes.", explain:"IP da direcciones de origen/destino para que los datos viajen correctamente."},
 {text:"¬øQu√© diferencia principal existe entre TCP y UDP?", options:[{t:"TCP garantiza entrega ordenada y confiable; UDP es m√°s r√°pido pero no garantiza entrega ni orden",ok:true},{t:"UDP es m√°s seguro que TCP",ok:false},{t:"TCP solo funciona con IPv6",ok:false}], hint:"Uno prioriza fiabilidad, el otro velocidad.", explain:"TCP asegura orden y fiabilidad, UDP rapidez."},
 {text:"¬øQu√© rol cumplen SSL y TLS en las comunicaciones?", options:[{t:"Cifran los datos transmitidos, asegurando confidencialidad, integridad y autenticidad",ok:true},{t:"Asignan direcciones IP",ok:false},{t:"Traducen IP en MAC",ok:false}], hint:"Piensa en seguridad y privacidad.", explain:"SSL/TLS protegen los datos en tr√°nsito con cifrado."},
 {text:"¬øQu√© significa BGP y qu√© hace en las redes globales?", options:[{t:"Border Gateway Protocol; gestiona c√≥mo diferentes redes comparten rutas de tr√°fico",ok:true},{t:"Protocolo de backup de routers",ok:false},{t:"Traduce direcciones MAC",ok:false}], hint:"Es la gu√≠a del tr√°fico mundial.", explain:"BGP coordina el enrutamiento entre ISP y pa√≠ses."},
 {text:"¬øQu√© mejora aporta IPv6 respecto a IPv4?", options:[{t:"Aumenta la cantidad de direcciones disponibles, mejorando la escalabilidad",ok:true},{t:"Hace que internet vaya m√°s r√°pido",ok:false},{t:"Elimina la necesidad de TCP",ok:false}], hint:"Piensa en el crecimiento de dispositivos.", explain:"IPv6 permite much√≠simas m√°s direcciones que IPv4."},
 {text:"¬øQu√© protocolo se usa en banca en l√≠nea para proteger transacciones?", options:[{t:"SSL/TLS",ok:true},{t:"UDP",ok:false},{t:"Ethernet",ok:false}], hint:"Debe cifrar y autenticar.", explain:"La banca en l√≠nea usa SSL/TLS para cifrar operaciones."},
 {text:"Si juegas un videojuego online, ¬øqu√© protocolo es m√°s adecuado?", options:[{t:"UDP, porque prioriza velocidad y baja latencia",ok:true},{t:"TCP, porque reenv√≠a todo",ok:false},{t:"SSL/TLS",ok:false}], hint:"Piensa en rapidez y tiempo real.", explain:"UDP sacrifica fiabilidad por velocidad, ideal en juegos."},
 {text:"Est√°s enviando un correo electr√≥nico: ¬øqu√© protocolo garantiza que llegue completo?", options:[{t:"TCP",ok:true},{t:"UDP",ok:false},{t:"ARP",ok:false}], hint:"Piensa en fiabilidad.", explain:"TCP garantiza entrega completa y ordenada."},
 {text:"Cuando un dispositivo recibe datos desde varios routers hasta el destino, ¬øqu√© protocolo gu√≠a el camino?", options:[{t:"IP",ok:true},{t:"BGP",ok:false},{t:"TCP",ok:false}], hint:"Es el cartero universal.", explain:"IP direcciona paquetes a trav√©s de routers."},
 {text:"Un proveedor de Internet comparte mejores rutas de tr√°fico con otro. ¬øQu√© protocolo lo permite?", options:[{t:"BGP",ok:true},{t:"IP",ok:false},{t:"DHCP",ok:false}], hint:"Es el protocolo entre grandes redes.", explain:"BGP intercambia rutas entre proveedores."},
 {text:"¬øPor qu√© se compara TCP con un servicio de mensajer√≠a premium?", options:[{t:"Porque entrega en orden, confirma recepci√≥n y reenv√≠a si hay p√©rdidas",ok:true},{t:"Porque es el m√°s barato",ok:false},{t:"Porque usa cables",ok:false}], hint:"Piensa en entrega garantizada.", explain:"TCP asegura calidad de entrega como un servicio premium."},
 {text:"¬øPor qu√© UDP es adecuado para streaming?", options:[{t:"Porque permite transmisi√≥n r√°pida tolerando p√©rdidas m√≠nimas",ok:true},{t:"Porque cifra contrase√±as",ok:false},{t:"Porque garantiza orden",ok:false}], hint:"Velocidad sobre perfecci√≥n.", explain:"UDP soporta peque√±os fallos sin afectar al streaming."},
 {text:"¬øC√≥mo asegura IP que un paquete encuentre su destino?", options:[{t:"Fragmenta datos, asigna direcciones y usa routers para elegir ruta",ok:true},{t:"Cifra los datos",ok:false},{t:"Traduce IP a MAC",ok:false}], hint:"Mira su funci√≥n de direccionamiento.", explain:"IP gu√≠a cada paquete hasta el destino con direcciones."},
 {text:"¬øQu√© diferencia clave existe entre usar SSL/TLS y no usarlo?", options:[{t:"Con SSL/TLS los datos viajan cifrados y verificados; sin ellos pueden interceptarse",ok:true},{t:"Ninguna",ok:false},{t:"Hace que internet vaya m√°s r√°pido",ok:false}], hint:"Piensa en confidencialidad.", explain:"SSL/TLS protege los datos frente a interceptaci√≥n."},
 {text:"¬øPor qu√© BGP es fundamental a nivel mundial?", options:[{t:"Porque coordina enrutamiento entre grandes redes aut√≥nomas",ok:true},{t:"Porque asigna direcciones MAC",ok:false},{t:"Porque es m√°s r√°pido que IP",ok:false}], hint:"Internet depende de su coordinaci√≥n.", explain:"BGP permite que la informaci√≥n viaje entre pa√≠ses."},
 {text:"¬øQu√© pasa si una red solo usa IPv4 y no IPv6?", options:[{t:"Riesgo de quedarse sin direcciones y limitaciones para escalar",ok:true},{t:"Mayor velocidad",ok:false},{t:"Mejor seguridad",ok:false}], hint:"Piensa en agotamiento de direcciones.", explain:"IPv4 tiene l√≠mite de direcciones, IPv6 no."},
 {text:"¬øC√≥mo afectar√≠a un ataque Man in the Middle sin SSL/TLS?", options:[{t:"Un atacante podr√≠a leer o modificar datos sensibles",ok:true},{t:"Se corta el Wi-Fi",ok:false},{t:"Se bloquea DHCP",ok:false}], hint:"Sin cifrado, todo est√° expuesto.", explain:"SSL/TLS evita que terceros vean o alteren datos."},
 {text:"¬øQu√© protocolo interviene si un v√≠deo online se carga lento?", options:[{t:"TCP, porque reenv√≠a paquetes perdidos para mantener orden",ok:true},{t:"UDP",ok:false},{t:"BGP",ok:false}], hint:"Busca fiabilidad.", explain:"TCP reenv√≠a paquetes, afectando velocidad de v√≠deo."},
 {text:"¬øC√≥mo se complementan IP, TCP/UDP y SSL/TLS?", options:[{t:"IP direcciona, TCP/UDP gestionan transporte, SSL/TLS protegen transmisi√≥n",ok:true},{t:"Todos asignan IP",ok:false},{t:"Todos cifran datos",ok:false}], hint:"Cada capa tiene su rol.", explain:"Los tres trabajan juntos para comunicaciones seguras."},
 {text:"Ejemplo: ¬øC√≥mo BGP permite que un correo viaje de Espa√±a a Jap√≥n?", options:[{t:"BGP intercambia rutas entre ISP y pa√≠ses, guiando paquetes IP hasta el destino",ok:true},{t:"Lo hace DHCP",ok:false},{t:"Lo hace solo IPv6",ok:false}], hint:"Es la ruta internacional.", explain:"BGP conecta redes globales para que los paquetes viajen."}
];

let QUESTIONS=[];
const quiz=document.getElementById('quiz');
const scoreEl=document.getElementById('score');

function createQuestionEl(q,idx){
 const w=document.createElement('div'); w.className='q';
 const p=document.createElement('p'); p.innerHTML=`<b>${idx+1}.</b> ${q.text}`; w.appendChild(p);
 const opts=shuffle(q.options.map(o=>({...o})));
 opts.forEach((o,i)=>{
   const id=`q${idx}_opt${i}`;
   const label=document.createElement('label'); label.setAttribute('for',id);
   const input=document.createElement('input'); input.type='radio'; input.name=`q${idx}`; input.id=id; input.value=o.ok?'true':'false';
   label.appendChild(input); label.insertAdjacentText('beforeend',' '+o.t); w.appendChild(label);
 });
 const hintBtn=document.createElement('button'); hintBtn.type='button'; hintBtn.textContent='Pista'; hintBtn.className='hint-btn';
 const hintBox=document.createElement('div'); hintBox.className='hint'; hintBox.innerHTML=q.hint;
 w.appendChild(hintBtn); w.appendChild(hintBox);
 const fb=document.createElement('div'); fb.className='feedback'; w.appendChild(fb);
 const ok=document.createElement('div'); ok.className='success'; ok.textContent='‚úÖ ¬°Correcto!'; w.appendChild(ok);
 hintBtn.addEventListener('click',()=>{hintBox.style.display='block'; hintBtn.disabled=true;});
 return w;
}

function buildQuiz(){quiz.innerHTML=''; QUESTIONS=shuffle(BANK.map(q=>({...q, options:q.options.map(o=>({...o}))}))); QUESTIONS.forEach((q,i)=>quiz.appendChild(createQuestionEl(q,i))); scoreEl.textContent='';}
function evaluateQuestion(node){
 const labels=Array.from(node.querySelectorAll('label')); let ok=false; let selected=null; let correct=null;
 labels.forEach(l=>{l.classList.remove('correct','incorrect'); const input=l.querySelector('input'); if(input.value==='true') correct=l; if(input.checked){selected=l; ok=(input.value==='true');}});
 const fb=node.querySelector('.feedback'); const okBox=node.querySelector('.success');
 if(ok){if(correct) correct.classList.add('correct'); okBox.style.display='block'; fb.style.display='none';}
 else{if(selected) selected.classList.add('incorrect'); if(correct) correct.classList.add('correct'); okBox.style.display='none'; fb.innerHTML=`<b>Respuesta correcta:</b> ${correct?correct.textContent.trim():''}<div>${QUESTIONS.find(q=>q.text===node.querySelector('p').innerText.replace(/^\d+\.\s*/,'')).explain}</div>`; fb.style.display='block';}
 return ok;
}
function correctAll(){const nodes=document.querySelectorAll('.q'); let right=0; nodes.forEach(n=>{if(evaluateQuestion(n)) right++;}); scoreEl.textContent=`Puntuaci√≥n: ${right} / ${nodes.length}`;}
function resetQuiz(){buildQuiz();}
document.getElementById('btn-correct').addEventListener('click',correctAll);
document.getElementById('btn-shuffle').addEventListener('click',buildQuiz);
document.getElementById('btn-reset').addEventListener('click',resetQuiz);
buildQuiz();
</script>
</body>
</html>
